!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.fishTopoNetwork=e():t.fishTopoNetwork=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){t.exports=i(2)},function(t,e,i){function n(t,e){this.id,this.group,this._dom=t,this.allNodes=[],this._api=new o(this),this.tipNode=null,this._zr=r(this,e),s.call(this),d.registerNetworkNode()}function r(t,e){var i='<div class="topoDiv" id = "topoDiv" style="width:100%; height:100%; overflow:auto;"></div>';t._dom.innerHTML=i;var n=document.getElementById("topoDiv"),r=a.init(n,{renderer:e.renderer||"canvas",devicePixelRatio:e.devicePixelRatio});return r}var o=(i(3),i(56)),s=i(12),a=i(57),h=i(4),l=i(67),u=i(70),c=i(73),d=(i(75),i(76)),f=n.prototype;f.getDom=function(){return this._dom},f.getZr=function(){return this._zr},f.getWidth=function(){return this._zr.getWidth()},f.getHeight=function(){return this._zr.getHeight()},f.resize=function(t,e){t=void 0!==t?t:this.getWidth,e=void 0!==e?e:this.getHeight()-50,this._zr.painter.resize(t,e)},f.addNodeByModel=function(t){var e=c.getClass(t.get("stencil.type"));e&&(node=new e(t,this._api),this._zr.add(node),node.on("mousedown",function(t){}))},f.getNodeClass=function(t){return c.getClass(t)},f.showTipWindow=function(t){var e=c.getClass("TipWindowNode");if(e){this._zr.getHeight();void 0!=this.allWidth&&this._zr.painter.resize(this.allWidth+t.width,730);var i=new e(t,this._api);this._zr.add(i),this.tipNode=i,i.on("mousedown",function(t){})}},f.hideTipWindow=function(t){this.tipNode&&null!==this.tipNode&&this._zr.remove(this.tipNode)},f.init=function(){this.isSelected},f.clear=function(){this._zr.clear()},f.exportJson=function(){var t=new u({});return t.set("resourceId",l.getUUID()),d.exportJson(t,this.allNodes)},f.drawFromJson=function(t){var e=t.type;if("rack"===e){var i=this._zr.getWidth();50+250*t.data.length>i&&(this._zr.painter.resize(50+250*t.data.length,730),i<this._zr.getWidth()&&(this.allWidth=this._zr.getWidth()))}else if("topo"===e){var i=this._zr.getWidth(),n=630;this.width=i,this.height=n}else if("cluster"===e){var i=this._zr.getWidth(),n=630;this.width=i,this.height=n}return d.fromJson(this,t)},h.mixin(n,s);var p=new Date-0,g={},v="_fishTopoNetwork_instance_",y={version:"1.0.0",dependencies:{zrender:"3.0.4"}};y.init=function(t,e){if(!t)throw new Error("Initialize failed: invalid dom.");e=e||{},h.defaults(e,{type:"bpmn",showGridLine:!0,devicePixelRatio:1,gridLineSpacing:10});var i=new n(t,e);return i.init(),i.id="ft_"+p++,g[i.id]=i,t.setAttribute&&t.setAttribute(v,i.id),i},y.getInstanceByDom=function(t){var e=t.getAttribute(v);return g[e]},y.dispose=function(t){var e;h.isDom(t)?e=y.getInstanceByDom(t):"string"==typeof t&&(e=g[t]),e instanceof y&&!e.isDisposed()&&e.dispose()},t.exports=y},function(t,e,i){"use strict";function n(t){if(!t.__isHover){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,n=t.__hoverStl,r=y.lift;n.fill=n.fill||i&&(i instanceof w?i:r(i,-.1)),n.stroke=n.stroke||e&&(e instanceof w?e:r(e,-.1));var o={};for(var s in n)n.hasOwnProperty(s)&&(o[s]=t.style[s]);t.__normalStl=o,t.__hoverStlDirty=!1}t.setStyle(t.__hoverStl),t.z2+=1,t.__isHover=!0}}function r(t){if(t.__isHover){var e=t.__normalStl;e&&t.setStyle(e),t.z2-=1,t.__isHover=!1}}function o(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&n(t)}):n(t)}function s(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&r(t)}):r(t)}function a(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0}function h(){!this.__isEmphasis&&o(this)}function l(){!this.__isEmphasis&&s(this)}function u(){this.__isEmphasis=!0,o(this)}function c(){this.__isEmphasis=!1,s(this)}function d(t,e,i,n,r){var o=t?"Update":"",s=n&&n.getShallow("animationDuration"+o),a=n&&n.getShallow("animationEasing"+o);n&&n.getShallow("animation")?e.animateTo(i,s,a,r):(e.attr(i),r&&r())}var f=i(4),p=i(6),g=Math.round,v=i(7),y=i(20),x=i(14),m=i(15),w=i(5),_={};_.Util=f,_.Group=i(37),_.Image=i(38),_.Text=i(41),_.textContain=i(24),_.Circle=i(42),_.Sector=i(43),_.Ring=i(44),_.Polygon=i(45),_.Polyline=i(49),_.Rect=i(50),_.Line=i(51),_.BezierCurve=i(52),_.Arc=i(53),_.LinearGradient=i(54),_.RadialGradient=i(55),_.BoundingRect=i(25),_.extendShape=function(t){return v.extend(t)},_.extendPath=function(t,e){return p.extendFromString(t,e)},_.makePath=function(t,e,i,n){var r=p.createFromString(t,e),o=r.getBoundingRect();if(i){var s=o.width/o.height;if("center"===n){var a,h=i.height*s;h<=i.width?a=i.height:(h=i.width,a=h/s);var l=i.x+i.width/2,u=i.y+i.height/2;i.x=l-h/2,i.y=u-a/2,i.width=h,i.height=a}this.resizePath(r,i)}return r},_.mergePath=p.mergePath,_.resizePath=function(t,e){if(t.applyTransform){var i=t.getBoundingRect(),n=i.calculateTransform(e);t.applyTransform(n)}},_.subPixelOptimizeLine=function(t){var e=_.subPixelOptimize,i=t.shape,n=t.style.lineWidth;return g(2*i.x1)===g(2*i.x2)&&(i.x1=i.x2=e(i.x1,n,!0)),g(2*i.y1)===g(2*i.y2)&&(i.y1=i.y2=e(i.y1,n,!0)),t},_.subPixelOptimizeRect=function(t){var e=_.subPixelOptimize,i=t.shape,n=t.style.lineWidth,r=i.x,o=i.y,s=i.width,a=i.height;return i.x=e(i.x,n,!0),i.y=e(i.y,n,!0),i.width=Math.max(e(r+s,n,!1)-i.x,0===s?0:1),i.height=Math.max(e(o+a,n,!1)-i.y,0===a?0:1),t},_.subPixelOptimize=function(t,e,i){var n=g(2*t);return(n+g(e))%2===0?n/2:(n+(i?1:-1))/2},_.doEnterHover=o,_.doLeaveHover=s,_.setElementHoverStl=a,_.setHoverStyle=function(t,e){"group"===t.type?t.traverse(function(t){"group"!==t.type&&a(t,e)}):a(t,e),t.on("mouseover",h).on("mouseout",l),t.on("emphasis",u).on("normal",c)},_.setText=function(t,e,i){var n=e.getShallow("position")||"inside",r=n.indexOf("inside")>=0?"white":i,o=e.getModel("textStyle");f.extend(t,{textDistance:e.getShallow("distance")||5,textFont:o.getFont(),textPosition:n,textFill:o.getTextColor()||r})},_.updateProps=f.curry(d,!0),_.initProps=f.curry(d,!1),_.getTransform=function(t,e){for(var i=x.identity([]);t&&t!==e;)x.mul(i,t.getLocalTransform(),i),t=t.parent;return i},_.applyTransform=function(t,e,i){return i&&(e=x.invert([],e)),m.applyTransform([],t,e)},_.transformDirection=function(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-n:"right"===t?n:0,"top"===t?-r:"bottom"===t?r:0];return o=_.applyTransform(o,e,i),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"},t.exports=_},function(t,e,i){function n(t){if("object"==typeof t&&null!==t){var e=t;if(t instanceof Array){e=[];for(var i=0,r=t.length;i<r;i++)e[i]=n(t[i])}else if(!M(t)&&!k(t)){e={};for(var o in t)t.hasOwnProperty(o)&&(e[o]=n(t[o]))}return e}return t}function r(t,e,i){if(!T(e)||!T(t))return i?n(e):t;for(var o in e)if(e.hasOwnProperty(o)){var s=t[o],a=e[o];!T(a)||!T(s)||_(a)||_(s)||k(a)||k(s)||M(a)||M(s)?!i&&o in t||(t[o]=n(e[o],!0)):r(s,a,i)}return t}function o(t,e){for(var i=t[0],n=1,o=t.length;n<o;n++)i=r(i,t[n],e);return i}function s(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function a(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function h(){return document.createElement("canvas")}function l(){return N||(N=W.createCanvas().getContext("2d")),N}function u(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function c(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var r in n)t.prototype[r]=n[r];t.prototype.constructor=t,t.superClass=e}function d(t,e,i){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,a(t,e,i)}function f(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function p(t,e,i){if(t&&e)if(t.forEach&&t.forEach===A)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function g(t,e,i){if(t&&e){if(t.map&&t.map===E)return t.map(e,i);for(var n=[],r=0,o=t.length;r<o;r++)n.push(e.call(i,t[r],r,t));return n}}function v(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===z)return t.reduce(e,i,n);for(var r=0,o=t.length;r<o;r++)i=e.call(n,i,t[r],r,t);return i}}function y(t,e,i){if(t&&e){if(t.filter&&t.filter===F)return t.filter(e,i);for(var n=[],r=0,o=t.length;r<o;r++)e.call(i,t[r],r,t)&&n.push(t[r]);return n}}function x(t,e,i){if(t&&e)for(var n=0,r=t.length;n<r;n++)if(e.call(i,t[n],n,t))return t[n]}function m(t,e){var i=O.call(arguments,2);return function(){return t.apply(e,i.concat(O.call(arguments)))}}function w(t){var e=O.call(arguments,1);return function(){return t.apply(this,e.concat(O.call(arguments)))}}function _(t){return"[object Array]"===R.call(t)}function b(t){return"function"==typeof t}function P(t){return"[object String]"===R.call(t)}function T(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function M(t){return!!S[R.call(t)]||t instanceof I}function k(t){return t&&1===t.nodeType&&"string"==typeof t.nodeName}function C(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]}function L(){return Function.call.apply(O,arguments)}function B(t,e){if(!t)throw new Error(e)}var N,I=i(5),S={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},R=Object.prototype.toString,D=Array.prototype,A=D.forEach,F=D.filter,O=D.slice,E=D.map,z=D.reduce,W={inherits:c,mixin:d,clone:n,merge:r,mergeAll:o,extend:s,defaults:a,getContext:l,createCanvas:h,indexOf:u,slice:L,find:x,isArrayLike:f,each:p,map:g,reduce:v,filter:y,bind:m,curry:w,isArray:_,isString:P,isObject:T,isFunction:b,isBuildInObject:M,isDom:k,retrieve:C,assert:B,noop:function(){}};t.exports=W},function(t,e){var i=function(t){this.colorStops=t||[]};i.prototype={constructor:i,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}},t.exports=i},function(t,e,i){function n(t,e,i,n,r,o,s,a,h,l,u){var g=h*(p/180),x=f(g)*(t-i)/2+d(g)*(e-n)/2,m=-1*d(g)*(t-i)/2+f(g)*(e-n)/2,w=x*x/(s*s)+m*m/(a*a);w>1&&(s*=c(w),a*=c(w));var _=(r===o?-1:1)*c((s*s*(a*a)-s*s*(m*m)-a*a*(x*x))/(s*s*(m*m)+a*a*(x*x)))||0,b=_*s*m/a,P=_*-a*x/s,T=(t+i)/2+f(g)*b-d(g)*P,M=(e+n)/2+d(g)*b+f(g)*P,k=y([1,0],[(x-b)/s,(m-P)/a]),C=[(x-b)/s,(m-P)/a],L=[(-1*x-b)/s,(-1*m-P)/a],B=y(C,L);v(C,L)<=-1&&(B=p),v(C,L)>=1&&(B=0),0===o&&B>0&&(B-=2*p),1===o&&B<0&&(B+=2*p),u.addData(l,T,M,s,a,k,B,g,o)}function r(t){if(!t)return[];var e,i=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<u.length;e++)i=i.replace(new RegExp(u[e],"g"),"|"+u[e]);var r,o=i.split("|"),s=0,h=0,l=new a,c=a.CMD;for(e=1;e<o.length;e++){var d,f=o[e],p=f.charAt(0),g=0,v=f.slice(1).replace(/e,-/g,"e-").split(",");v.length>0&&""===v[0]&&v.shift();for(var y=0;y<v.length;y++)v[y]=parseFloat(v[y]);for(;g<v.length&&!isNaN(v[g])&&!isNaN(v[0]);){var x,m,w,_,b,P,T,M=s,k=h;switch(p){case"l":s+=v[g++],h+=v[g++],d=c.L,l.addData(d,s,h);break;case"L":s=v[g++],h=v[g++],d=c.L,l.addData(d,s,h);break;case"m":s+=v[g++],h+=v[g++],d=c.M,l.addData(d,s,h),p="l";break;case"M":s=v[g++],h=v[g++],d=c.M,l.addData(d,s,h),p="L";break;case"h":s+=v[g++],d=c.L,l.addData(d,s,h);break;case"H":s=v[g++],d=c.L,l.addData(d,s,h);break;case"v":h+=v[g++],d=c.L,l.addData(d,s,h);break;case"V":h=v[g++],d=c.L,l.addData(d,s,h);break;case"C":d=c.C,l.addData(d,v[g++],v[g++],v[g++],v[g++],v[g++],v[g++]),s=v[g-2],h=v[g-1];break;case"c":d=c.C,l.addData(d,v[g++]+s,v[g++]+h,v[g++]+s,v[g++]+h,v[g++]+s,v[g++]+h),s+=v[g-2],h+=v[g-1];break;case"S":x=s,m=h;var C=l.len(),L=l.data;r===c.C&&(x+=s-L[C-4],m+=h-L[C-3]),d=c.C,M=v[g++],k=v[g++],s=v[g++],h=v[g++],l.addData(d,x,m,M,k,s,h);break;case"s":x=s,m=h;var C=l.len(),L=l.data;r===c.C&&(x+=s-L[C-4],m+=h-L[C-3]),d=c.C,M=s+v[g++],k=h+v[g++],s+=v[g++],h+=v[g++],l.addData(d,x,m,M,k,s,h);break;case"Q":M=v[g++],k=v[g++],s=v[g++],h=v[g++],d=c.Q,l.addData(d,M,k,s,h);break;case"q":M=v[g++]+s,k=v[g++]+h,s+=v[g++],h+=v[g++],d=c.Q,l.addData(d,M,k,s,h);break;case"T":x=s,m=h;var C=l.len(),L=l.data;r===c.Q&&(x+=s-L[C-4],m+=h-L[C-3]),s=v[g++],h=v[g++],d=c.Q,l.addData(d,x,m,s,h);break;case"t":x=s,m=h;var C=l.len(),L=l.data;r===c.Q&&(x+=s-L[C-4],m+=h-L[C-3]),s+=v[g++],h+=v[g++],d=c.Q,l.addData(d,x,m,s,h);break;case"A":w=v[g++],_=v[g++],b=v[g++],P=v[g++],T=v[g++],M=s,k=h,s=v[g++],h=v[g++],d=c.A,n(M,k,s,h,P,T,w,_,b,d,l);break;case"a":w=v[g++],_=v[g++],b=v[g++],P=v[g++],T=v[g++],M=s,k=h,s+=v[g++],h+=v[g++],d=c.A,n(M,k,s,h,P,T,w,_,b,d,l)}}"z"!==p&&"Z"!==p||(d=c.Z,l.addData(d)),r=d}return l.toStatic(),l}function o(t,e){var i,n=r(t);return e=e||{},e.buildPath=function(t){t.setData(n.data),i&&h(t,i);var e=t.getContext();e&&t.rebuildPath(e)},e.applyTransform=function(t){i||(i=l.create()),l.mul(i,t,i)},e}var s=i(7),a=i(26),h=i(36),l=i(14),u=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],c=Math.sqrt,d=Math.sin,f=Math.cos,p=Math.PI,g=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},v=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(g(t)*g(e))},y=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(v(t,e))};t.exports={createFromString:function(t,e){return new s(o(t,e))},extendFromString:function(t,e){return s.extend(o(t,e))},mergePath:function(t,e){var i,n,r=[],o=t.length;for(n=0;n<o;n++)i=t[n],i.__dirty&&i.buildPath(i.path,i.shape),r.push(i.path);var a=new s(e);return a.buildPath=function(t){t.appendPath(r);var e=t.getContext();e&&t.rebuildPath(e)},a}}},function(t,e,i){function n(t){var e=t.fill;return null!=e&&"none"!==e}function r(t){var e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0}function o(t){s.call(this,t),this.path=new h}var s=i(8),a=i(4),h=i(26),l=i(29),u=i(5),c=Math.abs;o.prototype={constructor:o,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t){t.save();var e=this.style,i=this.path,o=r(e),s=n(e);this.__dirtyPath&&(s&&e.fill instanceof u&&e.fill.updateCanvasGradient(this,t),o&&e.stroke instanceof u&&e.stroke.updateCanvasGradient(this,t)),e.bind(t,this),this.setTransform(t);var a=e.lineDash,h=e.lineDashOffset,l=!!t.setLineDash;this.__dirtyPath||a&&!l&&o?(i=this.path.beginPath(t),a&&!l&&(i.setLineDash(a),i.setLineDashOffset(h)),this.buildPath(i,this.shape),this.__dirtyPath=!1):(t.beginPath(),this.path.rebuildPath(t)),s&&i.fill(t),a&&l&&(t.setLineDash(a),t.lineDashOffset=h),o&&i.stroke(t),null!=e.text&&this.drawRectText(t,this.getBoundingRect()),t.restore()},buildPath:function(t,e){},getBoundingRect:function(){var t=this._rect,e=this.style;if(!t){var i=this.path;this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape)),t=i.getBoundingRect()}if(r(e)&&(this.__dirty||!this._rect)){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());o.copy(t);var s=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;return n(e)||(s=Math.max(s,this.strokeContainThreshold)),a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2),o}return this._rect=t,t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),o=this.getBoundingRect(),s=this.style;if(t=i[0],e=i[1],o.contain(t,e)){var a=this.path.data;if(r(s)){var h=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(n(s)||(h=Math.max(h,this.strokeContainThreshold)),l.containStroke(a,h/u,t,e)))return!0}if(n(s))return l.contain(a,t,e)}return!1},dirty:function(t){0===arguments.length&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?this.setShape(e):s.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(a.isObject(t))for(var n in t)i[n]=t[n];else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&c(t[0]-1)>1e-10&&c(t[3]-1)>1e-10?Math.sqrt(c(t[0]*t[3]-t[2]*t[1])):1}},o.extend=function(t){var e=function(e){o.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var r in i)!n.hasOwnProperty(r)&&i.hasOwnProperty(r)&&(n[r]=i[r])}t.init&&t.init.call(this,e)};a.inherits(e,o);for(var i in t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},a.inherits(o,s),t.exports=o},function(t,e,i){function n(t){t=t||{},s.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new o(t.style),this._rect=null,this.__clipPaths=[]}var r=i(4),o=i(9),s=i(10),a=i(23);n.prototype={constructor:n,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return n.contain(i[0],i[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?s.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(),this}},r.inherits(n,s),r.mixin(n,a),t.exports=n},function(t,e){var i=["lineCap","lineJoin","miterLimit","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"],n=function(t){this.extendFrom(t)};n.prototype={constructor:n,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,bind:function(t,e){for(var n=this.fill,r=this.stroke,o=0;o<i.length;o++){var s=i[o];null!=this[s]&&(t[s]=this[s])}if(null!=r){var a=this.lineWidth;t.lineWidth=a/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}null!=n&&(t.fillStyle=n.canvasGradient?n.canvasGradient:n),null!=r&&(t.strokeStyle=r.canvasGradient?r.canvasGradient:r),null!=this.opacity&&(t.globalAlpha=this.opacity)},extendFrom:function(t,e){if(t){var i=this;for(var n in t)!t.hasOwnProperty(n)||!e&&i.hasOwnProperty(n)||(i[n]=t[n])}},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t}};var r,o,s=n.prototype;for(o=0;o<i.length;o++)r=i[o],r in s||(s[r]=null);t.exports=n},function(t,e,i){"use strict";var n=i(11),r=i(12),o=i(13),s=i(16),a=i(4),h=function(t){o.call(this,t),r.call(this,t),s.call(this,t),this.id=t.id||n()};h.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty()},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(a.isObject(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty()},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty())},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},a.mixin(h,s),a.mixin(h,o),a.mixin(h,r),t.exports=h},function(t,e){var i=2311;t.exports=function(){return"zr_"+i++}},function(t,e,i){var n=Array.prototype.slice,r=i(4),o=r.indexOf,s=function(){this._$handlers={}};s.prototype={constructor:s,one:function(t,e,i){var n=this._$handlers;return e&&t?(n[t]||(n[t]=[]),o(n[t],t)>=0?this:(n[t].push({h:e,one:!0,ctx:i||this}),this)):this},on:function(t,e,i){var n=this._$handlers;return e&&t?(n[t]||(n[t]=[]),n[t].push({h:e,one:!1,ctx:i||this}),this):this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],r=0,o=i[t].length;r<o;r++)i[t][r].h!=e&&n.push(i[t][r]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>3&&(e=n.call(e,1));for(var r=this._$handlers[t],o=r.length,s=0;s<o;){switch(i){case 1:r[s].h.call(r[s].ctx);break;case 2:r[s].h.call(r[s].ctx,e[1]);break;case 3:r[s].h.call(r[s].ctx,e[1],e[2]);break;default:r[s].h.apply(r[s].ctx,e)}r[s].one?(r.splice(s,1),o--):s++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>4&&(e=n.call(e,1,e.length-1));for(var r=e[e.length-1],o=this._$handlers[t],s=o.length,a=0;a<s;){switch(i){case 1:o[a].h.call(r);break;case 2:o[a].h.call(r,e[1]);break;case 3:o[a].h.call(r,e[1],e[2]);break;default:o[a].h.apply(r,e)}o[a].one?(o.splice(a,1),s--):a++}}return this}},t.exports=s},function(t,e,i){"use strict";function n(t){return t>a||t<-a}var r=i(14),o=i(15),s=r.identity,a=5e-5,h=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=h.prototype;l.transform=null,l.needLocalTransform=function(){return n(this.rotation)||n(this.position[0])||n(this.position[1])||n(this.scale[0]-1)||n(this.scale[1]-1)},l.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;return i||e?(n=n||r.create(),i?this.getLocalTransform(n):s(n),e&&(i?r.mul(n,t.transform,n):r.copy(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||r.create(),void r.invert(this.invTransform,n)):void(n&&s(n))},l.getLocalTransform=function(t){t=t||[],s(t);var e=this.origin,i=this.scale,n=this.rotation,o=this.position;return e&&(t[4]-=e[0],t[5]-=e[1]),r.scale(t,t,i),n&&r.rotate(t,t,n),e&&(t[4]+=e[0],t[5]+=e[1]),t[4]+=o[0],t[5]+=o[1],t},l.setTransform=function(t){var e=this.transform;e&&t.transform(e[0],e[1],e[2],e[3],e[4],e[5])};var u=[];l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(r.mul(u,t.invTransform,e),e=u);var i=e[0]*e[0]+e[1]*e[1],o=e[2]*e[2]+e[3]*e[3],s=this.position,a=this.scale;n(i-1)&&(i=Math.sqrt(i)),n(o-1)&&(o=Math.sqrt(o)),e[0]<0&&(i=-i),e[3]<0&&(o=-o),s[0]=e[4],s[1]=e[5],a[0]=i,a[1]=o,this.rotation=Math.atan2(-e[1]/o,e[0]/i)}},l.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&o.applyTransform(i,i,n),i},l.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&o.applyTransform(i,i,n),i},t.exports=h},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(){var t=new i(6);return n.identity(t),t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,i){var n=e[0]*i[0]+e[2]*i[1],r=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],s=e[1]*i[2]+e[3]*i[3],a=e[0]*i[4]+e[2]*i[5]+e[4],h=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=r,t[2]=o,t[3]=s,t[4]=a,t[5]=h,t},translate:function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},rotate:function(t,e,i){var n=e[0],r=e[2],o=e[4],s=e[1],a=e[3],h=e[5],l=Math.sin(i),u=Math.cos(i);return t[0]=n*u+s*l,t[1]=-n*l+s*u,t[2]=r*u+a*l,t[3]=-r*l+u*a,t[4]=u*o+l*h,t[5]=u*h-l*o,t},scale:function(t,e,i){var n=i[0],r=i[1];return t[0]=e[0]*n,t[1]=e[1]*r,t[2]=e[2]*n,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*r,t},invert:function(t,e){var i=e[0],n=e[2],r=e[4],o=e[1],s=e[3],a=e[5],h=i*s-o*n;return h?(h=1/h,t[0]=s*h,t[1]=-o*h,t[2]=-n*h,t[3]=i*h,t[4]=(n*a-s*r)*h,t[5]=(o*r-i*a)*h,t):null}};t.exports=n},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(t,e){var n=new i(2);return n[0]=t||0,n[1]=e||0,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e},set:function(t,e,i){return t[0]=e,t[1]=i,t},add:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},scaleAndAdd:function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},sub:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},normalize:function(t,e){var i=n.len(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t},applyTransform:function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t},min:function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},max:function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}};n.length=n.len,n.lengthSquare=n.lenSquare,n.dist=n.distance,n.distSquare=n.distanceSquare,t.exports=n},function(t,e,i){"use strict";var n=i(17),r=i(4),o=r.isString,s=r.isFunction,a=r.isObject,h=i(21),l=function(){this.animators=[]};l.prototype={constructor:l,animate:function(t,e){var i,o=!1,s=this,a=this.__zr;if(t){var l=t.split("."),u=s;o="shape"===l[0];for(var c=0,d=l.length;c<d;c++)u&&(u=u[l[c]]);u&&(i=u)}else i=s;if(!i)return void h('Property "'+t+'" is not existed in element '+s.id);var f=s.animators,p=new n(i,e);return p.during(function(t){s.dirty(o)}).done(function(){f.splice(r.indexOf(f,p),1)}),f.push(p),a&&a.animation.addAnimator(p),p},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;n<i;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,r){function a(){l--,l||r&&r()}o(i)?(r=n,n=i,i=0):s(n)?(r=n,n="linear",i=0):s(i)?(r=i,i=0):s(e)?(r=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,i,n,r);var h=this.animators.slice(),l=h.length;l||r&&r();for(var u=0;u<h.length;u++)h[u].done(a).start(n)},_animateToShallow:function(t,e,i,n,o){var s={},h=0;for(var l in i)if(null!=e[l])a(i[l])&&!r.isArrayLike(i[l])?this._animateToShallow(t?t+"."+l:l,e[l],i[l],n,o):(s[l]=i[l],h++);else if(null!=i[l])if(t){var u={};u[t]={},u[t][l]=i[l],this.attr(u)}else this.attr(l,i[l]);return h>0&&this.animate(t,!1).when(null==n?500:n,s).delay(o||0),this}},t.exports=l},function(t,e,i){function n(t,e){return t[e]}function r(t,e,i){t[e]=i}function o(t,e,i){return(e-t)*i+t}function s(t,e,i){return i>.5?e:t}function a(t,e,i,n,r){var s=t.length;if(1==r)for(var a=0;a<s;a++)n[a]=o(t[a],e[a],i);else for(var h=t[0].length,a=0;a<s;a++)for(var l=0;l<h;l++)n[a][l]=o(t[a][l],e[a][l],i)}function h(t,e,i){var n=t.length,r=e.length;if(n!==r){var o=n>r;if(o)t.length=r;else for(var s=n;s<r;s++)t.push(1===i?e[s]:m.call(e[s]))}}function l(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(var r=0;r<n;r++)if(t[r]!==e[r])return!1}else for(var o=t[0].length,r=0;r<n;r++)for(var s=0;s<o;s++)if(t[r][s]!==e[r][s])return!1;return!0}function u(t,e,i,n,r,o,s,a,h){var l=t.length;if(1==h)for(var u=0;u<l;u++)a[u]=c(t[u],e[u],i[u],n[u],r,o,s);else for(var d=t[0].length,u=0;u<l;u++)for(var f=0;f<d;f++)a[u][f]=c(t[u][f],e[u][f],i[u][f],n[u][f],r,o,s)}function c(t,e,i,n,r,o,s){var a=.5*(i-t),h=.5*(n-e);return(2*(e-i)+a+h)*s+(-3*(e-i)-2*a-h)*o+a*r+e}function d(t){if(x(t)){var e=t.length;if(x(t[0])){for(var i=[],n=0;n<e;n++)i.push(m.call(t[n]));return i}return m.call(t)}return t}function f(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function p(t,e,i,n,r){var d=t._getter,p=t._setter,y="spline"===e,m=n.length;if(m){var w,_=n[0].value,b=x(_),P=!1,T=!1,M=b&&x(_[0])?2:1;n.sort(function(t,e){return t.time-e.time}),w=n[m-1].time;for(var k=[],C=[],L=n[0].value,B=!0,N=0;N<m;N++){k.push(n[N].time/w);var I=n[N].value;if(b&&l(I,L,M)||!b&&I===L||(B=!1),L=I,"string"==typeof I){var S=v.parse(I);S?(I=S,P=!0):T=!0}C.push(I)}if(!B){if(b){for(var R=C[m-1],N=0;N<m-1;N++)h(C[N],R,M);h(d(t._target,r),R,M)}var D,A,F,O,E,z,W=0,q=0;if(P)var U=[0,0,0,0];var H=function(t,e){var i;if(e<q){for(D=Math.min(W+1,m-1),i=D;i>=0&&!(k[i]<=e);i--);i=Math.min(i,m-2)}else{for(i=W;i<m&&!(k[i]>e);i++);i=Math.min(i-1,m-2)}W=i,q=e;var n=k[i+1]-k[i];if(0!==n)if(A=(e-k[i])/n,y)if(O=C[i],F=C[0===i?i:i-1],E=C[i>m-2?m-1:i+1],z=C[i>m-3?m-1:i+2],b)u(F,O,E,z,A,A*A,A*A*A,d(t,r),M);else{var h;if(P)h=u(F,O,E,z,A,A*A,A*A*A,U,1),h=f(U);else{if(T)return s(O,E,A);h=c(F,O,E,z,A,A*A,A*A*A)}p(t,r,h)}else if(b)a(C[i],C[i+1],A,d(t,r),M);else{var h;if(P)a(C[i],C[i+1],A,U,1),h=f(U);else{if(T)return s(C[i],C[i+1],A);h=o(C[i],C[i+1],A)}p(t,r,h)}},Y=new g({target:t._target,life:w,loop:t._loop,delay:t._delay,onframe:H,ondestroy:i});return e&&"spline"!==e&&(Y.easing=e),Y}}}var g=i(18),v=i(20),y=i(4),x=y.isArrayLike,m=Array.prototype.slice,w=function(t,e,i,o){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||n,this._setter=o||r,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};w.prototype={when:function(t,e){var i=this._tracks;for(var n in e){if(!i[n]){i[n]=[];var r=this._getter(this._target,n);if(null==r)continue;0!==t&&i[n].push({time:0,value:d(r)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t){var e,i=this,n=0,r=function(){n--,n||i._doneCallback()};for(var o in this._tracks){var s=p(this,t,r,this._tracks[o],o);s&&(this._clipList.push(s),n++,this.animation&&this.animation.addClip(s),e=s)}if(e){var a=e.onframe;e.onframe=function(t,e){a(t,e);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](t,e)}}return n||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var r=e[n];t&&r.onframe(this._target,1),i&&i.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},t.exports=w},function(t,e,i){function n(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var r=i(19);n.prototype={constructor:n,step:function(t){this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0);var e=(t-this._startTime)/this._life;if(!(e<0)){e=Math.min(e,1);var i=this.easing,n="string"==typeof i?r[i]:i,o="function"==typeof n?n(e):e;return this.fire("frame",o),1==e?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var t=(new Date).getTime(),e=(t-this._startTime)%this._life;
this._startTime=(new Date).getTime()-e+this.gap,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)}},t.exports=n},function(t,e){var i={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-i.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5}};t.exports=i},function(t,e){function i(t){return t=Math.round(t),t<0?0:t>255?255:t}function n(t){return t=Math.round(t),t<0?0:t>360?360:t}function r(t){return t<0?0:t>1?1:t}function o(t){return i(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function s(t){return r(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function a(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function h(t,e,i){return t+(e-t)*i}function l(t){if(t){t+="";var e=t.replace(/ /g,"").toLowerCase();if(e in w)return w[e].slice();if("#"!==e.charAt(0)){var i=e.indexOf("("),n=e.indexOf(")");if(i!==-1&&n+1===e.length){var r=e.substr(0,i),a=e.substr(i+1,n-(i+1)).split(","),h=1;switch(r){case"rgba":if(4!==a.length)return;h=s(a.pop());case"rgb":if(3!==a.length)return;return[o(a[0]),o(a[1]),o(a[2]),h];case"hsla":if(4!==a.length)return;return a[3]=s(a[3]),u(a);case"hsl":if(3!==a.length)return;return u(a);default:return}}}else{if(4===e.length){var l=parseInt(e.substr(1),16);if(!(l>=0&&l<=4095))return;return[(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1]}if(7===e.length){var l=parseInt(e.substr(1),16);if(!(l>=0&&l<=16777215))return;return[(16711680&l)>>16,(65280&l)>>8,255&l,1]}}}}function u(t){var e=(parseFloat(t[0])%360+360)%360/360,n=s(t[1]),r=s(t[2]),o=r<=.5?r*(n+1):r+n-r*n,h=2*r-o,l=[i(255*a(h,o,e+1/3)),i(255*a(h,o,e)),i(255*a(h,o,e-1/3))];return 4===t.length&&(l[3]=t[3]),l}function c(t){if(t){var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.min(n,r,o),a=Math.max(n,r,o),h=a-s,l=(a+s)/2;if(0===h)e=0,i=0;else{i=l<.5?h/(a+s):h/(2-a-s);var u=((a-n)/6+h/2)/h,c=((a-r)/6+h/2)/h,d=((a-o)/6+h/2)/h;n===a?e=d-c:r===a?e=1/3+u-d:o===a&&(e=2/3+c-u),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,i,l];return null!=t[3]&&f.push(t[3]),f}}function d(t,e){var i=l(t);if(i){for(var n=0;n<3;n++)e<0?i[n]=i[n]*(1-e)|0:i[n]=(255-i[n])*e+i[n]|0;return m(i,4===i.length?"rgba":"rgb")}}function f(t,e){var i=l(t);if(i)return((1<<24)+(i[0]<<16)+(i[1]<<8)+ +i[2]).toString(16).slice(1)}function p(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[0,0,0,0];var r=t*(e.length-1),o=Math.floor(r),s=Math.ceil(r),a=e[o],l=e[s],u=r-o;return n[0]=i(h(a[0],l[0],u)),n[1]=i(h(a[1],l[1],u)),n[2]=i(h(a[2],l[2],u)),n[3]=i(h(a[3],l[3],u)),n}}function g(t,e,n){if(e&&e.length&&t>=0&&t<=1){var o=t*(e.length-1),s=Math.floor(o),a=Math.ceil(o),u=l(e[s]),c=l(e[a]),d=o-s,f=m([i(h(u[0],c[0],d)),i(h(u[1],c[1],d)),i(h(u[2],c[2],d)),r(h(u[3],c[3],d))],"rgba");return n?{color:f,leftIndex:s,rightIndex:a,value:o}:f}}function v(t,e){if(!(2!==t.length||t[1]<t[0])){for(var i=g(t[0],e,!0),n=g(t[1],e,!0),r=[{color:i.color,offset:0}],o=n.value-i.value,s=Math.max(i.value,i.rightIndex),a=Math.min(n.value,n.leftIndex),h=s;o>0&&h<=a;h++)r.push({color:e[h],offset:(h-i.value)/o});return r.push({color:n.color,offset:1}),r}}function y(t,e,i,r){if(t=l(t))return t=c(t),null!=e&&(t[0]=n(e)),null!=i&&(t[1]=s(i)),null!=r&&(t[2]=s(r)),m(u(t),"rgba")}function x(t,e){if(t=l(t),t&&null!=e)return t[3]=r(e),m(t,"rgba")}function m(t,e){return"rgb"!==e&&"hsv"!==e&&"hsl"!==e||(t=t.slice(0,3)),e+"("+t.join(",")+")"}var w={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};t.exports={parse:l,lift:d,toHex:f,fastMapToColor:p,mapToColor:g,mapIntervalToColor:v,modifyHSL:y,modifyAlpha:x,stringify:m}},function(t,e,i){var n=i(22);t.exports=function(){if(0!==n.debugMode)if(1==n.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(n.debugMode>1)for(var t in arguments)console.log(arguments[t])}},function(t,e){var i=1;"undefined"!=typeof window&&(i=Math.max(window.devicePixelRatio||1,1));var n={debugMode:0,devicePixelRatio:i};t.exports=n},function(t,e,i){function n(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function r(t,e){t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}var o=i(24),s=i(25),a=new s,h=function(){};h.prototype={constructor:h,drawRectText:function(t,e,i){var s=this.style,h=s.text;if(null!=h&&(h+=""),h){var l,u,c=s.textPosition,d=s.textDistance,f=s.textAlign,p=s.textFont||s.font,g=s.textBaseline,v=s.textVerticalAlign;i=i||o.getBoundingRect(h,p,f,g);var y=this.transform,x=this.invTransform;if(y&&(a.copy(e),a.applyTransform(y),e=a,r(t,x)),c instanceof Array)l=e.x+n(c[0],e.width),u=e.y+n(c[1],e.height),f=f||"left",g=g||"top";else{var m=o.adjustTextPositionOnRect(c,e,i,d);l=m.x,u=m.y,f=f||m.textAlign,g=g||m.textBaseline}if(t.textAlign=f,v){switch(v){case"middle":u-=i.height/2;break;case"bottom":u-=i.height}t.textBaseline="top"}else t.textBaseline=g;var w=s.textFill,_=s.textStroke;w&&(t.fillStyle=w),_&&(t.strokeStyle=_),t.font=p,t.shadowColor=s.textShadowColor,t.shadowBlur=s.textShadowBlur,t.shadowOffsetX=s.textShadowOffsetX,t.shadowOffsetY=s.textShadowOffsetY;for(var b=h.split("\n"),P=0;P<b.length;P++)w&&t.fillText(b[P],l,u),_&&t.strokeText(b[P],l,u),u+=i.lineHeight;y&&r(t,y)}}},t.exports=h},function(t,e,i){function n(t,e){var i=t+":"+e;if(l[i])return l[i];for(var n=(t+"").split("\n"),r=0,o=0,s=n.length;o<s;o++)r=Math.max(p.measureText(n[o],e).width,r);return u>c&&(u=0,l={}),u++,l[i]=r,r}function r(t,e,i,r){var o=((t||"")+"").split("\n").length,s=n(t,e),a=n("国",e),h=o*a,l=new f(0,0,s,h);switch(l.lineHeight=a,r){case"bottom":case"alphabetic":l.y-=a;break;case"middle":l.y-=a/2}switch(i){case"end":case"right":l.x-=l.width;break;case"center":l.x-=l.width/2}return l}function o(t,e,i,n){var r=e.x,o=e.y,s=e.height,a=e.width,h=i.height,l=s/2-h/2,u="left";switch(t){case"left":r-=n,o+=l,u="right";break;case"right":r+=n+a,o+=l,u="left";break;case"top":r+=a/2,o-=n+h,u="center";break;case"bottom":r+=a/2,o+=s+n,u="center";break;case"inside":r+=a/2,o+=l,u="center";break;case"insideLeft":r+=n,o+=l,u="left";break;case"insideRight":r+=a-n,o+=l,u="right";break;case"insideTop":r+=a/2,o+=n,u="center";break;case"insideBottom":r+=a/2,o+=s-h-n,u="center";break;case"insideTopLeft":r+=n,o+=n,u="left";break;case"insideTopRight":r+=a-n,o+=n,u="right";break;case"insideBottomLeft":r+=n,o+=s-h-n;break;case"insideBottomRight":r+=a-n,o+=s-h-n,u="right"}return{x:r,y:o,textAlign:u,textBaseline:"top"}}function s(t,e,i,r){if(!i)return"";r=d.defaults({ellipsis:"...",minCharacters:3,maxIterations:3,cnCharWidth:n("国",e),ascCharWidth:n("a",e)},r,!0),i-=n(r.ellipsis);for(var o=(t+"").split("\n"),s=0,h=o.length;s<h;s++)o[s]=a(o[s],e,i,r);return o.join("\n")}function a(t,e,i,r){for(var o=0;;o++){var s=n(t,e);if(s<i||o>=r.maxIterations){t+=r.ellipsis;break}var a=0===o?h(t,i,r):Math.floor(t.length*i/s);if(a<r.minCharacters){t="";break}t=t.substr(0,a)}return t}function h(t,e,i){for(var n=0,r=0,o=t.length;r<o&&n<e;r++){var s=t.charCodeAt(r);n+=0<=s&&s<=127?i.ascCharWidth:i.cnCharWidth}return r}var l={},u=0,c=5e3,d=i(4),f=i(25),p={getWidth:n,getBoundingRect:r,adjustTextPositionOnRect:o,ellipsis:s,measureText:function(t,e){var i=d.getContext();return i.font=e,i.measureText(t)}};t.exports=p},function(t,e,i){"use strict";function n(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}var r=i(15),o=i(14),s=r.applyTransform,a=Math.min,h=Math.abs,l=Math.max;n.prototype={constructor:n,union:function(t){var e=a(t.x,this.x),i=a(t.y,this.y);this.width=l(t.x+t.width,this.x+this.width)-e,this.height=l(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:function(){var t=[],e=[];return function(i){i&&(t[0]=this.x,t[1]=this.y,e[0]=this.x+this.width,e[1]=this.y+this.height,s(t,t,i),s(e,e,i),this.x=a(t[0],e[0]),this.y=a(t[1],e[1]),this.width=h(e[0]-t[0]),this.height=h(e[1]-t[1]))}}(),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,r=o.create();return o.translate(r,r,[-e.x,-e.y]),o.scale(r,r,[i,n]),o.translate(r,r,[t.x,t.y]),r},intersect:function(t){var e=this,i=e.x,n=e.x+e.width,r=e.y,o=e.y+e.height,s=t.x,a=t.x+t.width,h=t.y,l=t.y+t.height;return!(n<s||a<i||o<h||l<r)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new n(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},t.exports=n},function(t,e,i){"use strict";var n=i(27),r=i(15),o=i(28),s=i(25),a={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},h=[],l=[],u=[],c=[],d=Math.min,f=Math.max,p=Math.cos,g=Math.sin,v=Math.sqrt,y="undefined"!=typeof Float32Array,x=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0};x.prototype={constructor:x,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(a.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){return this.addData(a.L,t,e),this._ctx&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),this._xi=t,this._yi=e,this},bezierCurveTo:function(t,e,i,n,r,o){return this.addData(a.C,t,e,i,n,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,r,o):this._ctx.bezierCurveTo(t,e,i,n,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(t,e,i,n){return this.addData(a.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,r,o){return this.addData(a.A,t,e,i,i,n,r-n,0,o?0:1),this._ctx&&this._ctx.arc(t,e,i,n,r,o),this._xi=p(r)*i+t,this._xi=g(r)*i+t,this},arcTo:function(t,e,i,n,r){return this._ctx&&this._ctx.arcTo(t,e,i,n,r),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(a.R,t,e,i,n),this},closePath:function(){this.addData(a.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!y||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,r=0;r<e;r++)i+=t[r].len();y&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(var r=0;r<e;r++)for(var o=t[r].data,s=0;s<o.length;s++)this.data[n++]=o[s];this._len=n},addData:function(t){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,r=this._dashSum,o=this._dashOffset,s=this._lineDash,a=this._ctx,h=this._xi,l=this._yi,u=t-h,c=e-l,p=v(u*u+c*c),g=h,y=l,x=s.length;for(u/=p,c/=p,o<0&&(o=r+o),o%=r,g-=o*u,y-=o*c;u>=0&&g<=t||u<0&&g>t;)n=this._dashIdx,i=s[n],g+=u*i,y+=c*i,this._dashIdx=(n+1)%x,u>0&&g<h||u<0&&g>h||a[n%2?"moveTo":"lineTo"](u>=0?d(g,t):f(g,t),c>=0?d(y,e):f(y,e));u=g-t,c=y-e,this._dashOffset=-v(u*u+c*c)},_dashedBezierTo:function(t,e,i,r,o,s){var a,h,l,u,c,d=this._dashSum,f=this._dashOffset,p=this._lineDash,g=this._ctx,y=this._xi,x=this._yi,m=n.cubicAt,w=0,_=this._dashIdx,b=p.length,P=0;for(f<0&&(f=d+f),f%=d,a=0;a<1;a+=.1)h=m(y,t,i,o,a+.1)-m(y,t,i,o,a),l=m(x,e,r,s,a+.1)-m(x,e,r,s,a),w+=v(h*h+l*l);for(;_<b&&(P+=p[_],!(P>f));_++);for(a=(P-f)/w;a<=1;)u=m(y,t,i,o,a),c=m(x,e,r,s,a),_%2?g.moveTo(u,c):g.lineTo(u,c),a+=p[_]/w,_=(_+1)%b;_%2!==0&&g.lineTo(o,s),h=o-u,l=s-c,this._dashOffset=-v(h*h+l*l)},_dashedQuadraticTo:function(t,e,i,n){var r=i,o=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,r,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,y&&(this.data=new Float32Array(t)))},getBoundingRect:function(){h[0]=h[1]=u[0]=u[1]=Number.MAX_VALUE,l[0]=l[1]=c[0]=c[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,d=0,f=0;f<t.length;){var v=t[f++];switch(1==f&&(e=t[f],i=t[f+1],n=e,d=i),v){case a.M:n=t[f++],d=t[f++],e=n,i=d,u[0]=n,u[1]=d,c[0]=n,c[1]=d;break;case a.L:o.fromLine(e,i,t[f],t[f+1],u,c),e=t[f++],i=t[f++];break;case a.C:o.fromCubic(e,i,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],u,c),e=t[f++],i=t[f++];break;case a.Q:o.fromQuadratic(e,i,t[f++],t[f++],t[f],t[f+1],u,c),e=t[f++],i=t[f++];break;case a.A:var y=t[f++],x=t[f++],m=t[f++],w=t[f++],_=t[f++],b=t[f++]+_,P=(t[f++],1-t[f++]);1==f&&(n=p(_)*m+y,d=g(_)*w+x),o.fromArc(y,x,m,w,_,b,P,u,c),e=p(b)*m+y,i=g(b)*w+x;break;case a.R:n=e=t[f++],d=i=t[f++];var T=t[f++],M=t[f++];o.fromLine(n,d,n+T,d+M,u,c);break;case a.Z:e=n,i=d}r.min(h,h,u),r.max(l,l,c)}return 0===f&&(h[0]=h[1]=l[0]=l[1]=0),new s(h[0],h[1],l[0]-h[0],l[1]-h[1])},rebuildPath:function(t){for(var e=this.data,i=0;i<this._len;){var n=e[i++];switch(n){case a.M:t.moveTo(e[i++],e[i++]);break;case a.L:t.lineTo(e[i++],e[i++]);break;case a.C:t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);break;case a.Q:t.quadraticCurveTo(e[i++],e[i++],e[i++],e[i++]);break;case a.A:var r=e[i++],o=e[i++],s=e[i++],h=e[i++],l=e[i++],u=e[i++],c=e[i++],d=e[i++],f=s>h?s:h,p=s>h?1:s/h,g=s>h?h/s:1,v=Math.abs(s-h)>.001;v?(t.translate(r,o),t.rotate(c),t.scale(p,g),t.arc(0,0,f,l,l+u,1-d),t.scale(1/p,1/g),t.rotate(-c),t.translate(-r,-o)):t.arc(r,o,f,l,l+u,1-d);break;case a.R:t.rect(e[i++],e[i++],e[i++],e[i++]);break;case a.Z:t.closePath()}}}},x.CMD=a,t.exports=x},function(t,e,i){"use strict";function n(t){return t>-b&&t<b}function r(t){return t>b||t<-b}function o(t,e,i,n,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*n+3*o*i)}function s(t,e,i,n,r){var o=1-r;return 3*(((e-t)*o+2*(i-e)*r)*o+(n-i)*r*r)}function a(t,e,i,r,o,s){var a=r+3*(e-i)-t,h=3*(i-2*e+t),l=3*(e-t),u=t-o,c=h*h-3*a*l,d=h*l-9*a*u,f=l*l-3*h*u,p=0;if(n(c)&&n(d))if(n(h))s[0]=0;else{var g=-l/h;g>=0&&g<=1&&(s[p++]=g)}else{var v=d*d-4*c*f;if(n(v)){var y=d/c,g=-h/a+y,x=-y/2;g>=0&&g<=1&&(s[p++]=g),x>=0&&x<=1&&(s[p++]=x)}else if(v>0){var m=_(v),b=c*h+1.5*a*(-d+m),M=c*h+1.5*a*(-d-m);b=b<0?-w(-b,T):w(b,T),M=M<0?-w(-M,T):w(M,T);var g=(-h-(b+M))/(3*a);g>=0&&g<=1&&(s[p++]=g)}else{var k=(2*c*h-3*a*d)/(2*_(c*c*c)),C=Math.acos(k)/3,L=_(c),B=Math.cos(C),g=(-h-2*L*B)/(3*a),x=(-h+L*(B+P*Math.sin(C)))/(3*a),N=(-h+L*(B-P*Math.sin(C)))/(3*a);g>=0&&g<=1&&(s[p++]=g),x>=0&&x<=1&&(s[p++]=x),N>=0&&N<=1&&(s[p++]=N)}}return p}function h(t,e,i,o,s){var a=6*i-12*e+6*t,h=9*e+3*o-3*t-9*i,l=3*e-3*t,u=0;if(n(h)){if(r(a)){var c=-l/a;c>=0&&c<=1&&(s[u++]=c)}}else{var d=a*a-4*h*l;if(n(d))s[0]=-a/(2*h);else if(d>0){var f=_(d),c=(-a+f)/(2*h),p=(-a-f)/(2*h);c>=0&&c<=1&&(s[u++]=c),p>=0&&p<=1&&(s[u++]=p)}}return u}function l(t,e,i,n,r,o){var s=(e-t)*r+t,a=(i-e)*r+e,h=(n-i)*r+i,l=(a-s)*r+s,u=(h-a)*r+a,c=(u-l)*r+l;o[0]=t,o[1]=s,o[2]=l,o[3]=c,o[4]=c,o[5]=u,o[6]=h,o[7]=n}function u(t,e,i,n,r,s,a,h,l,u,c){var d,f,p,g,v,y=.005,x=1/0;M[0]=l,M[1]=u;for(var w=0;w<1;w+=.05)k[0]=o(t,i,r,a,w),k[1]=o(e,n,s,h,w),g=m(M,k),g<x&&(d=w,x=g);x=1/0;for(var P=0;P<32&&!(y<b);P++)f=d-y,p=d+y,k[0]=o(t,i,r,a,f),k[1]=o(e,n,s,h,f),g=m(k,M),f>=0&&g<x?(d=f,x=g):(C[0]=o(t,i,r,a,p),C[1]=o(e,n,s,h,p),v=m(C,M),p<=1&&v<x?(d=p,x=v):y*=.5);return c&&(c[0]=o(t,i,r,a,d),c[1]=o(e,n,s,h,d)),_(x)}function c(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}function d(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function f(t,e,i,o,s){var a=t-2*e+i,h=2*(e-t),l=t-o,u=0;if(n(a)){if(r(h)){var c=-l/h;c>=0&&c<=1&&(s[u++]=c)}}else{var d=h*h-4*a*l;if(n(d)){var c=-h/(2*a);c>=0&&c<=1&&(s[u++]=c)}else if(d>0){var f=_(d),c=(-h+f)/(2*a),p=(-h-f)/(2*a);c>=0&&c<=1&&(s[u++]=c),p>=0&&p<=1&&(s[u++]=p)}}return u}function p(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function g(t,e,i,n,r){var o=(e-t)*n+t,s=(i-e)*n+e,a=(s-o)*n+o;r[0]=t,r[1]=o,r[2]=a,r[3]=a,r[4]=s,r[5]=i}function v(t,e,i,n,r,o,s,a,h){var l,u=.005,d=1/0;M[0]=s,M[1]=a;for(var f=0;f<1;f+=.05){k[0]=c(t,i,r,f),k[1]=c(e,n,o,f);var p=m(M,k);p<d&&(l=f,d=p)}d=1/0;for(var g=0;g<32&&!(u<b);g++){var v=l-u,y=l+u;k[0]=c(t,i,r,v),k[1]=c(e,n,o,v);var p=m(k,M);if(v>=0&&p<d)l=v,d=p;else{C[0]=c(t,i,r,y),C[1]=c(e,n,o,y);var x=m(C,M);y<=1&&x<d?(l=y,d=x):u*=.5}}return h&&(h[0]=c(t,i,r,l),h[1]=c(e,n,o,l)),_(d)}var y=i(15),x=y.create,m=y.distSquare,w=Math.pow,_=Math.sqrt,b=1e-4,P=_(3),T=1/3,M=x(),k=x(),C=x();t.exports={cubicAt:o,cubicDerivativeAt:s,cubicRootAt:a,cubicExtrema:h,cubicSubdivide:l,cubicProjectPoint:u,quadraticAt:c,quadraticDerivativeAt:d,quadraticRootAt:f,quadraticExtremum:p,quadraticSubdivide:g,quadraticProjectPoint:v}},function(t,e,i){var n=i(15),r=i(27),o={},s=Math.min,a=Math.max,h=Math.sin,l=Math.cos,u=n.create(),c=n.create(),d=n.create(),f=2*Math.PI;o.fromPoints=function(t,e,i){if(0!==t.length){var n,r=t[0],o=r[0],h=r[0],l=r[1],u=r[1];for(n=1;n<t.length;n++)r=t[n],o=s(o,r[0]),h=a(h,r[0]),l=s(l,r[1]),u=a(u,r[1]);e[0]=o,e[1]=l,i[0]=h,i[1]=u}},o.fromLine=function(t,e,i,n,r,o){r[0]=s(t,i),r[1]=s(e,n),o[0]=a(t,i),o[1]=a(e,n)},o.fromCubic=function(t,e,i,n,o,h,l,u,c,d){var f,p,g,v,y,x=[],m=[],w=r.cubicExtrema,_=r.cubicAt,b=w(t,i,o,l,x);for(y=0;y<b;y++)x[y]=_(t,i,o,l,x[y]);for(b=w(e,n,h,u,m),y=0;y<b;y++)m[y]=_(e,n,h,u,m[y]);x.push(t,l),m.push(e,u),f=s.apply(null,x),p=a.apply(null,x),g=s.apply(null,m),v=a.apply(null,m),c[0]=f,c[1]=g,d[0]=p,d[1]=v},o.fromQuadratic=function(t,e,i,n,o,h,l,u){var c=r.quadraticExtremum,d=r.quadraticAt,f=a(s(c(t,i,o),1),0),p=a(s(c(e,n,h),1),0),g=d(t,i,o,f),v=d(e,n,h,p);l[0]=s(t,o,g),l[1]=s(e,h,v),u[0]=a(t,o,g),u[1]=a(e,h,v)},o.fromArc=function(t,e,i,r,o,s,a,p,g){var v=n.min,y=n.max,x=Math.abs(o-s);if(x%f<1e-4&&x>1e-4)return p[0]=t-i,p[1]=e-r,g[0]=t+i,void(g[1]=e+r);if(u[0]=l(o)*i+t,u[1]=h(o)*r+e,c[0]=l(s)*i+t,c[1]=h(s)*r+e,v(p,u,c),y(g,u,c),o%=f,o<0&&(o+=f),s%=f,s<0&&(s+=f),o>s&&!a?s+=f:o<s&&a&&(o+=f),a){var m=s;s=o,o=m}for(var w=0;w<s;w+=Math.PI/2)w>o&&(d[0]=l(w)*i+t,d[1]=h(w)*r+e,v(p,d,p),y(g,d,g))},t.exports=o},function(t,e,i){"use strict";function n(t,e){return Math.abs(t-e)<m}function r(){var t=_[0];_[0]=_[1],_[1]=t}function o(t,e,i,n,o,s,a,h,l,u){if(u>e&&u>n&&u>s&&u>h||u<e&&u<n&&u<s&&u<h)return 0;var c=g.cubicRootAt(e,n,s,h,u,w);if(0===c)return 0;for(var d,f,p=0,v=-1,y=0;y<c;y++){var x=w[y],m=g.cubicAt(t,i,o,a,x);m<l||(v<0&&(v=g.cubicExtrema(e,n,s,h,_),_[1]<_[0]&&v>1&&r(),d=g.cubicAt(e,n,s,h,_[0]),v>1&&(f=g.cubicAt(e,n,s,h,_[1]))),p+=2==v?x<_[0]?d<e?1:-1:x<_[1]?f<d?1:-1:h<f?1:-1:x<_[0]?d<e?1:-1:h<d?1:-1)}return p}function s(t,e,i,n,r,o,s,a){if(a>e&&a>n&&a>o||a<e&&a<n&&a<o)return 0;var h=g.quadraticRootAt(e,n,o,a,w);if(0===h)return 0;var l=g.quadraticExtremum(e,n,o);if(l>=0&&l<=1){for(var u=0,c=g.quadraticAt(e,n,o,l),d=0;d<h;d++){var f=g.quadraticAt(t,i,r,w[d]);f>s||(u+=w[d]<l?c<e?1:-1:o<c?1:-1)}return u}var f=g.quadraticAt(t,i,r,w[0]);return f>s?0:o<e?1:-1}function a(t,e,i,n,r,o,s,a){if(a-=e,a>i||a<-i)return 0;var h=Math.sqrt(i*i-a*a);w[0]=-h,w[1]=h;var l=Math.abs(n-r);if(l<1e-4)return 0;if(l%x<1e-4){n=0,r=x;var u=o?1:-1;return s>=w[0]+t&&s<=w[1]+t?u:0}if(o){var h=n;n=p(r),r=p(h)}else n=p(n),r=p(r);n>r&&(r+=x);for(var c=0,d=0;d<2;d++){var f=w[d];if(f+t>s){var g=Math.atan2(a,f),u=o?1:-1;g<0&&(g=x+g),(g>=n&&g<=r||g+x>=n&&g+x<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(u=-u),c+=u)}}return c}function h(t,e,i,r,h){for(var u=0,p=0,g=0,x=0,m=0,w=0;w<t.length;){var _=t[w++];if(_===l.M&&w>1&&(i||(u+=v(p,g,x,m,r,h)),0!==u))return!0;switch(1==w&&(p=t[w],g=t[w+1],x=p,m=g),_){case l.M:x=t[w++],m=t[w++],p=x,g=m;break;case l.L:if(i){if(y(p,g,t[w],t[w+1],e,r,h))return!0}else u+=v(p,g,t[w],t[w+1],r,h)||0;p=t[w++],g=t[w++];break;case l.C:if(i){if(c.containStroke(p,g,t[w++],t[w++],t[w++],t[w++],t[w],t[w+1],e,r,h))return!0}else u+=o(p,g,t[w++],t[w++],t[w++],t[w++],t[w],t[w+1],r,h)||0;p=t[w++],g=t[w++];break;case l.Q:if(i){if(d.containStroke(p,g,t[w++],t[w++],t[w],t[w+1],e,r,h))return!0}else u+=s(p,g,t[w++],t[w++],t[w],t[w+1],r,h)||0;p=t[w++],g=t[w++];break;case l.A:var b=t[w++],P=t[w++],T=t[w++],M=t[w++],k=t[w++],C=t[w++],L=(t[w++],1-t[w++]),B=Math.cos(k)*T+b,N=Math.sin(k)*M+P;w>1?u+=v(p,g,B,N,r,h):(x=B,m=N);var I=(r-b)*M/T+b;if(i){if(f.containStroke(b,P,M,k,k+C,L,e,I,h))return!0}else u+=a(b,P,M,k,k+C,L,I,h);p=Math.cos(k+C)*T+b,g=Math.sin(k+C)*M+P;break;case l.R:x=p=t[w++],m=g=t[w++];var S=t[w++],R=t[w++],B=x+S,N=m+R;if(i){if(y(x,m,B,m,e,r,h)||y(B,m,B,N,e,r,h)||y(B,N,x,N,e,r,h)||y(x,N,B,N,e,r,h))return!0}else u+=v(B,m,B,N,r,h),u+=v(x,N,x,m,r,h);break;case l.Z:if(i){if(y(p,g,x,m,e,r,h))return!0}else if(u+=v(p,g,x,m,r,h),0!==u)return!0;p=x,g=m}}return i||n(g,m)||(u+=v(p,g,x,m,r,h)||0),0!==u}var l=i(26).CMD,u=i(30),c=i(31),d=i(32),f=i(33),p=i(34).normalizeRadian,g=i(27),v=i(35),y=u.containStroke,x=2*Math.PI,m=1e-4,w=[-1,-1,-1],_=[-1,-1];t.exports={contain:function(t,e,i){return h(t,0,!1,e,i)},containStroke:function(t,e,i,n){return h(t,e,!0,i,n)}}},function(t,e){t.exports={containStroke:function(t,e,i,n,r,o,s){if(0===r)return!1;var a=r,h=0,l=t;if(s>e+a&&s>n+a||s<e-a&&s<n-a||o>t+a&&o>i+a||o<t-a&&o<i-a)return!1;if(t===i)return Math.abs(o-t)<=a/2;h=(e-n)/(t-i),l=(t*n-i*e)/(t-i);var u=h*o-s+l,c=u*u/(h*h+1);return c<=a/2*a/2}}},function(t,e,i){var n=i(27);t.exports={containStroke:function(t,e,i,r,o,s,a,h,l,u,c){if(0===l)return!1;var d=l;if(c>e+d&&c>r+d&&c>s+d&&c>h+d||c<e-d&&c<r-d&&c<s-d&&c<h-d||u>t+d&&u>i+d&&u>o+d&&u>a+d||u<t-d&&u<i-d&&u<o-d&&u<a-d)return!1;var f=n.cubicProjectPoint(t,e,i,r,o,s,a,h,u,c,null);return f<=d/2}}},function(t,e,i){var n=i(27);t.exports={containStroke:function(t,e,i,r,o,s,a,h,l){if(0===a)return!1;var u=a;if(l>e+u&&l>r+u&&l>s+u||l<e-u&&l<r-u&&l<s-u||h>t+u&&h>i+u&&h>o+u||h<t-u&&h<i-u&&h<o-u)return!1;var c=n.quadraticProjectPoint(t,e,i,r,o,s,h,l,null);return c<=u/2}}},function(t,e,i){var n=i(34).normalizeRadian,r=2*Math.PI;t.exports={containStroke:function(t,e,i,o,s,a,h,l,u){if(0===h)return!1;var c=h;l-=t,u-=e;var d=Math.sqrt(l*l+u*u);if(d-c>i||d+c<i)return!1;if(Math.abs(o-s)%r<1e-4)return!0;if(a){var f=o;o=n(s),s=n(f)}else o=n(o),s=n(s);o>s&&(s+=r);var p=Math.atan2(u,l);return p<0&&(p+=r),p>=o&&p<=s||p+r>=o&&p+r<=s}}},function(t,e){var i=2*Math.PI;t.exports={normalizeRadian:function(t){return t%=i,t<0&&(t+=i),t}}},function(t,e){t.exports=function(t,e,i,n,r,o){if(o>e&&o>n||o<e&&o<n)return 0;if(n===e)return 0;var s=n<e?1:-1,a=(o-e)/(n-e),h=a*(i-t)+t;return h>r?s:0}},function(t,e,i){function n(t,e){var i,n,o,u,c,d,f=t.data,p=r.M,g=r.C,v=r.L,y=r.R,x=r.A,m=r.Q;for(o=0,u=0;o<f.length;){switch(i=f[o++],u=o,n=0,i){case p:n=1;break;case v:n=1;break;case g:n=3;break;case m:n=2;break;case x:var w=e[4],_=e[5],b=h(e[0]*e[0]+e[1]*e[1]),P=h(e[2]*e[2]+e[3]*e[3]),T=l(-e[1]/P,e[0]/b);f[o++]+=w,f[o++]+=_,f[o++]*=b,f[o++]*=P,f[o++]+=T,f[o++]+=T,o+=2,u=o;break;case y:d[0]=f[o++],d[1]=f[o++],s(d,d,e),f[u++]=d[0],f[u++]=d[1],d[0]+=f[o++],d[1]+=f[o++],s(d,d,e),f[u++]=d[0],f[u++]=d[1]}for(c=0;c<n;c++){var d=a[c];d[0]=f[o++],d[1]=f[o++],s(d,d,e),f[u++]=d[0],f[u++]=d[1]}}}var r=i(26).CMD,o=i(15),s=o.applyTransform,a=[[],[],[]],h=Math.sqrt,l=Math.atan2;t.exports=n},function(t,e,i){var n=i(4),r=i(10),o=i(25),s=function(t){t=t||{},r.call(this,t);for(var e in t)this[e]=t[e];this._children=[],this.__storage=null,this.__dirty=!0};s.prototype={constructor:s,type:"group",children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToMap(t),t instanceof s&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,r=this._children,o=n.indexOf(r,t);return o<0?this:(r.splice(o,1),t.parent=null,i&&(i.delFromMap(t.id),t instanceof s&&t.delChildrenFromStorage(i)),e&&e.refresh(),this)},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromMap(t.id),t instanceof s&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var r=i[n];t.call(e,r,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToMap(i),i instanceof s&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromMap(i.id),i instanceof s&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new o(0,0,0,0),n=t||this._children,r=[],s=0;s<n.length;s++){var a=n[s];if(!a.ignore&&!a.invisible){var h=a.getBoundingRect(),l=a.getLocalTransform(r);l?(i.copy(h),i.applyTransform(l),e=e||i.clone(),e.union(i)):(e=e||h.clone(),e.union(h))}}return e||i}},n.inherits(s,r),t.exports=s},function(t,e,i){var n=i(8),r=i(25),o=i(4),s=i(39),a=i(40),h=new a(50),l=function(t){n.call(this,t)};l.prototype={constructor:l,type:"image",brush:function(t){var e,i=this.style,n=i.image;if(e="string"==typeof n?this._image:n,!e&&n){var r=h.get(n);if(!r)return e=new Image,e.onload=function(){e.onload=null;for(var t=0;t<r.pending.length;t++)r.pending[t].dirty()},r={image:e,pending:[this]},e.src=n,h.put(n,r),void(this._image=e);if(e=r.image,this._image=e,!e.width||!e.height)return void r.pending.push(this);
}if(e){var o=i.width||e.width,a=i.height||e.height,l=i.x||0,u=i.y||0;if(!e.width||!e.height)return;if(t.save(),i.bind(t),this.setTransform(t),i.r&&(t.beginPath(),s.buildPath(t,i),t.clip()),i.sWidth&&i.sHeight){var c=i.sx||0,d=i.sy||0;t.drawImage(e,c,d,i.sWidth,i.sHeight,l,u,o,a)}else if(i.sx&&i.sy){var c=i.sx,d=i.sy,f=o-c,p=a-d;t.drawImage(e,c,d,f,p,l,u,o,a)}else t.drawImage(e,l,u,o,a);null==i.width&&(i.width=o),null==i.height&&(i.height=a),null!=i.text&&this.drawRectText(t,this.getBoundingRect()),t.restore()}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new r(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},o.inherits(l,n),t.exports=l},function(t,e){t.exports={buildPath:function(t,e){var i,n,r,o,s=e.x,a=e.y,h=e.width,l=e.height,u=e.r;h<0&&(s+=h,h=-h),l<0&&(a+=l,l=-l),"number"==typeof u?i=n=r=o=u:u instanceof Array?1===u.length?i=n=r=o=u[0]:2===u.length?(i=r=u[0],n=o=u[1]):3===u.length?(i=u[0],n=o=u[1],r=u[2]):(i=u[0],n=u[1],r=u[2],o=u[3]):i=n=r=o=0;var c;i+n>h&&(c=i+n,i*=h/c,n*=h/c),r+o>h&&(c=r+o,r*=h/c,o*=h/c),n+r>l&&(c=n+r,n*=l/c,r*=l/c),i+o>l&&(c=i+o,i*=l/c,o*=l/c),t.moveTo(s+i,a),t.lineTo(s+h-n,a),0!==n&&t.quadraticCurveTo(s+h,a,s+h,a+n),t.lineTo(s+h,a+l-r),0!==r&&t.quadraticCurveTo(s+h,a+l,s+h-r,a+l),t.lineTo(s+o,a+l),0!==o&&t.quadraticCurveTo(s,a+l,s,a+l-o),t.lineTo(s,a+i),0!==i&&t.quadraticCurveTo(s,a,s+i,a)}}},function(t,e){var i=function(){this.head=null,this.tail=null,this._len=0},n=i.prototype;n.insert=function(t){var e=new r(t);return this.insertEntry(e),e},n.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._len++},n.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.len=function(){return this._len};var r=function(t){this.value=t,this.next,this.prev},o=function(t){this._list=new i,this._map={},this._maxSize=t||10},s=o.prototype;s.put=function(t,e){var i=this._list,n=this._map;if(null==n[t]){var r=i.len();if(r>=this._maxSize&&r>0){var o=i.head;i.remove(o),delete n[o.key]}var s=i.insert(e);s.key=t,n[t]=s}},s.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},s.clear=function(){this._list.clear(),this._map={}},t.exports=o},function(t,e,i){var n=i(8),r=i(4),o=i(24),s=function(t){n.call(this,t)};s.prototype={constructor:s,type:"text",brush:function(t){var e=this.style,i=e.x||0,n=e.y||0,r=e.text,s=e.fill,a=e.stroke;if(null!=r&&(r+=""),r){if(t.save(),this.style.bind(t),this.setTransform(t),s&&(t.fillStyle=s),a&&(t.strokeStyle=a),t.font=e.textFont||e.font,t.textAlign=e.textAlign,e.textVerticalAlign){var h=o.getBoundingRect(r,t.font,e.textAlign,"top");switch(t.textBaseline="top",e.textVerticalAlign){case"middle":n-=h.height/2;break;case"bottom":n-=h.height}}else t.textBaseline=e.textBaseline;for(var l=o.measureText("国",t.font).width,u=r.split("\n"),c=0;c<u.length;c++)s&&t.fillText(u[c],i,n),a&&t.strokeText(u[c],i,n),n+=l;t.restore()}},getBoundingRect:function(){if(!this._rect){var t=this.style,e=o.getBoundingRect(t.text+"",t.textFont||t.font,t.textAlign,t.textBaseline);e.x+=t.x||0,e.y+=t.y||0,this._rect=e}return this._rect}},r.inherits(s,n),t.exports=s},function(t,e,i){"use strict";t.exports=i(7).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}})},function(t,e,i){t.exports=i(7).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),s=e.startAngle,a=e.endAngle,h=e.clockwise,l=Math.cos(s),u=Math.sin(s);t.moveTo(l*r+i,u*r+n),t.lineTo(l*o+i,u*o+n),t.arc(i,n,o,s,a,!h),t.lineTo(Math.cos(a)*r+i,Math.sin(a)*r+n),0!==r&&t.arc(i,n,r,a,s,h),t.closePath()}})},function(t,e,i){t.exports=i(7).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,r,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,r,!0)}})},function(t,e,i){var n=i(46);t.exports=i(7).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){n.buildPath(t,e,!0)}})},function(t,e,i){var n=i(47),r=i(48);t.exports={buildPath:function(t,e,i){var o=e.points,s=e.smooth;if(o&&o.length>=2){if(s&&"spline"!==s){var a=r(o,s,i,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var h=o.length,l=0;l<(i?h:h-1);l++){var u=a[2*l],c=a[2*l+1],d=o[(l+1)%h];t.bezierCurveTo(u[0],u[1],c[0],c[1],d[0],d[1])}}else{"spline"===s&&(o=n(o,i)),t.moveTo(o[0][0],o[0][1]);for(var l=1,f=o.length;l<f;l++)t.lineTo(o[l][0],o[l][1])}i&&t.closePath()}}}},function(t,e,i){function n(t,e,i,n,r,o,s){var a=.5*(i-t),h=.5*(n-e);return(2*(e-i)+a+h)*s+(-3*(e-i)-2*a-h)*o+a*r+e}var r=i(15);t.exports=function(t,e){for(var i=t.length,o=[],s=0,a=1;a<i;a++)s+=r.distance(t[a-1],t[a]);var h=s/2;h=h<i?i:h;for(var a=0;a<h;a++){var l,u,c,d=a/(h-1)*(e?i:i-1),f=Math.floor(d),p=d-f,g=t[f%i];e?(l=t[(f-1+i)%i],u=t[(f+1)%i],c=t[(f+2)%i]):(l=t[0===f?f:f-1],u=t[f>i-2?i-1:f+1],c=t[f>i-3?i-1:f+2]);var v=p*p,y=p*v;o.push([n(l[0],g[0],u[0],c[0],p,v,y),n(l[1],g[1],u[1],c[1],p,v,y)])}return o}},function(t,e,i){var n=i(15),r=n.min,o=n.max,s=n.scale,a=n.distance,h=n.add;t.exports=function(t,e,i,l){var u,c,d,f,p=[],g=[],v=[],y=[];if(l){d=[1/0,1/0],f=[-(1/0),-(1/0)];for(var x=0,m=t.length;x<m;x++)r(d,d,t[x]),o(f,f,t[x]);r(d,d,l[0]),o(f,f,l[1])}for(var x=0,m=t.length;x<m;x++){var w=t[x];if(i)u=t[x?x-1:m-1],c=t[(x+1)%m];else{if(0===x||x===m-1){p.push(n.clone(t[x]));continue}u=t[x-1],c=t[x+1]}n.sub(g,c,u),s(g,g,e);var _=a(w,u),b=a(w,c),P=_+b;0!==P&&(_/=P,b/=P),s(v,g,-_),s(y,g,b);var T=h([],w,v),M=h([],w,y);l&&(o(T,T,d),r(T,T,f),o(M,M,d),r(M,M,f)),p.push(T),p.push(M)}return i&&p.push(p.shift()),p}},function(t,e,i){var n=i(46);t.exports=i(7).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){n.buildPath(t,e,!1)}})},function(t,e,i){var n=i(39);t.exports=i(7).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,r=e.y,o=e.width,s=e.height;e.r?n.buildPath(t,e):t.rect(i,r,o,s),t.closePath()}})},function(t,e,i){t.exports=i(7).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,r=e.x2,o=e.y2,s=e.percent;0!==s&&(t.moveTo(i,n),s<1&&(r=i*(1-s)+r*s,o=n*(1-s)+o*s),t.lineTo(r,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}})},function(t,e,i){"use strict";var n=i(27),r=n.quadraticSubdivide,o=n.cubicSubdivide,s=n.quadraticAt,a=n.cubicAt,h=[];t.exports=i(7).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,s=e.x2,a=e.y2,l=e.cpx1,u=e.cpy1,c=e.cpx2,d=e.cpy2,f=e.percent;0!==f&&(t.moveTo(i,n),null==c||null==d?(f<1&&(r(i,l,s,f,h),l=h[1],s=h[2],r(n,u,a,f,h),u=h[1],a=h[2]),t.quadraticCurveTo(l,u,s,a)):(f<1&&(o(i,l,c,s,f,h),l=h[1],c=h[2],s=h[3],o(n,u,d,a,f,h),u=h[1],d=h[2],a=h[3]),t.bezierCurveTo(l,u,c,d,s,a)))},pointAt:function(t){var e=this.shape,i=e.cpx2,n=e.cpy2;return null===i||null===n?[s(e.x1,e.cpx1,e.x2,t),s(e.y1,e.cpy1,e.y2,t)]:[a(e.x1,e.cpx1,e.cpx1,e.x2,t),a(e.y1,e.cpy1,e.cpy1,e.y2,t)]}})},function(t,e,i){t.exports=i(7).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,r=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,a=e.clockwise,h=Math.cos(o),l=Math.sin(o);t.moveTo(h*r+i,l*r+n),t.arc(i,n,r,o,s,!a)}})},function(t,e,i){"use strict";var n=i(4),r=i(5),o=function(t,e,i,n,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,r.call(this,o)};o.prototype={constructor:o,type:"linear",updateCanvasGradient:function(t,e){for(var i=t.getBoundingRect(),n=this.x*i.width+i.x,r=this.x2*i.width+i.x,o=this.y*i.height+i.y,s=this.y2*i.height+i.y,a=e.createLinearGradient(n,o,r,s),h=this.colorStops,l=0;l<h.length;l++)a.addColorStop(h[l].offset,h[l].color);this.canvasGradient=a}},n.inherits(o,r),t.exports=o},function(t,e,i){"use strict";var n=i(4),r=i(5),o=function(t,e,i,n){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,r.call(this,n)};o.prototype={constructor:o,type:"radial",updateCanvasGradient:function(t,e){for(var i=t.getBoundingRect(),n=i.width,r=i.height,o=Math.min(n,r),s=this.x*n+i.x,a=this.y*r+i.y,h=this.r*o,l=e.createRadialGradient(s,a,0,s,a,h),u=this.colorStops,c=0;c<u.length;c++)l.addColorStop(u[c].offset,u[c].color);this.canvasGradient=l}},n.inherits(o,r),t.exports=o},function(t,e,i){"use strict";function n(t){r.each(o,function(e){this[e]=r.bind(t[e],t)},this)}var r=i(4),o=["getDom","getZr","getWidth","getHeight","dispatchAction","on","off","trigger","getDataURL","getConnectedDataURL","getModel","getOption","getNodeClass","showTipWindow","hideTipWindow","resize","clear"];t.exports=n},function(t,e,i){function n(t){delete c[t]}var r=i(11),o=i(58),s=i(59),a=i(63),h=i(64),l=!o.canvasSupported,u={canvas:i(65)},c={},d={};d.version="3.0.4",d.init=function(t,e){var i=new f(r(),t,e);return c[i.id]=i,i},d.dispose=function(t){if(t)t.dispose();else{for(var e in c)c[e].dispose();c={}}return d},d.getInstance=function(t){return c[t]},d.registerPainter=function(t,e){u[t]=e};var f=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,r=new a,c=i.renderer;if(l){if(!u.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");c="vml"}else c&&u[c]||(c="canvas");var d=new u[c](e,r,i);this.storage=r,this.painter=d,o.node||(this.handler=new s(d.getViewportRoot(),r,d)),this.animation=new h({stage:{update:function(){n._needsRefresh&&n.refreshImmediately()}}}),this.animation.start(),this._needsRefresh;var f=r.delFromMap,p=r.addToMap;r.delFromMap=function(t){var e=r.get(t);f.call(r,t),e&&e.removeSelfFromZr(n)},r.addToMap=function(t){p.call(r,t),t.addSelfToZr(n)}};f.prototype={constructor:f,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},resize:function(){this.painter.resize(),this.handler&&this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},toDataURL:function(t,e,i){return this.painter.toDataURL(t,e,i)},pathToImage:function(t,e,i){var n=r();return this.painter.pathToImage(n,t,e,i)},setDefaultCursorStyle:function(t){this.handler.setDefaultCursorStyle(t)},on:function(t,e,i){this.handler&&this.handler.on(t,e,i)},off:function(t,e){this.handler&&this.handler.off(t,e)},trigger:function(t,e){this.handler&&this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler&&this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,n(this.id)}},t.exports=d},function(t,e){function i(t){var e={},i={},n=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=t.match(/(Android);?[\s\/]+([\d.]+)?/),o=t.match(/(iPad).*OS\s([\d_]+)/),s=t.match(/(iPod)(.*OS\s([\d_]+))?/),a=!o&&t.match(/(iPhone\sOS)\s([\d_]+)/),h=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),l=h&&t.match(/TouchPad/),u=t.match(/Kindle\/([\d.]+)/),c=t.match(/Silk\/([\d._]+)/),d=t.match(/(BlackBerry).*Version\/([\d.]+)/),f=t.match(/(BB10).*Version\/([\d.]+)/),p=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=t.match(/PlayBook/),v=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),y=t.match(/Firefox\/([\d.]+)/),x=n&&t.match(/Mobile\//)&&!v,m=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!v,w=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),_=t.match(/Edge\/([\d.]+)/);return(i.webkit=!!n)&&(i.version=n[1]),r&&(e.android=!0,e.version=r[2]),a&&!s&&(e.ios=e.iphone=!0,e.version=a[2].replace(/_/g,".")),o&&(e.ios=e.ipad=!0,e.version=o[2].replace(/_/g,".")),s&&(e.ios=e.ipod=!0,e.version=s[3]?s[3].replace(/_/g,"."):null),h&&(e.webos=!0,e.version=h[2]),l&&(e.touchpad=!0),d&&(e.blackberry=!0,e.version=d[2]),f&&(e.bb10=!0,e.version=f[2]),p&&(e.rimtabletos=!0,e.version=p[2]),g&&(i.playbook=!0),u&&(e.kindle=!0,e.version=u[1]),c&&(i.silk=!0,i.version=c[1]),!c&&e.android&&t.match(/Kindle Fire/)&&(i.silk=!0),v&&(i.chrome=!0,i.version=v[1]),y&&(i.firefox=!0,i.version=y[1]),w&&(i.ie=!0,i.version=w[1]),x&&(t.match(/Safari/)||e.ios)&&(i.safari=!0),m&&(i.webview=!0),w&&(i.ie=!0,i.version=w[1]),_&&(i.edge=!0,i.version=_[1]),e.tablet=!!(o||g||r&&!t.match(/Mobile/)||y&&t.match(/Tablet/)||w&&!t.match(/Phone/)&&t.match(/Touch/)),e.phone=!(e.tablet||e.ipod||!(r||a||h||d||f||v&&t.match(/Android/)||v&&t.match(/CriOS\/([\d.]+)/)||y&&t.match(/Mobile/)||w&&t.match(/Touch/))),{browser:i,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=10)}}var n={};n="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:i(navigator.userAgent),t.exports=n},function(t,e,i){"use strict";function n(t,e,i){return{type:t,event:i,target:e,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta}}function r(t,e,i){var n=t._gestureMgr;"start"===i&&n.clear();var r=n.recognize(e,t.findHover(e.zrX,e.zrY,null));if("end"===i&&n.clear(),r){var o=r.type;e.gestureEvent=o,t._dispatchProxy(r.target,o,r.event)}}function o(t){function e(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}for(var i=x.concat(m),n=0;n<i.length;n++){var r=i[n];t._handlers[r]=f.bind(T[r],t)}for(var n=0;n<y.length;n++){var r=y[n];t._handlers[r]=e(T[r],t)}}function s(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n=t.parent;n;){if(n.clipPath&&!n.clipPath.contain(e,i))return!1;n=n.parent}return!0}return!1}function a(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function h(){return!1}function l(){return c.touchEventsSupported}function u(t){return"mousewheel"===t&&c.browser.firefox?"DOMMouseScroll":t}var c=i(58),d=i(60),f=i(4),p=i(61),g=i(62),v=i(12),y=["click","dblclick","mousewheel","mouseout"];!h()&&y.push("mouseup","mousedown","mousemove");var x=["touchstart","touchend","touchmove"],m=["pointerdown","pointerup","pointermove"],w=300,_=d.addEventListener,b=d.removeEventListener,P=d.normalizeEvent,T={mousemove:function(t){t=P(this.root,t);var e=t.zrX,i=t.zrY,n=this.findHover(e,i,null),r=this._hovered;this._hovered=n,this.root.style.cursor=n?n.cursor:this._defaultCursorStyle,r&&n!==r&&r.__zr&&this._dispatchProxy(r,"mouseout",t),this._dispatchProxy(n,"mousemove",t),n&&n!==r&&this._dispatchProxy(n,"mouseover",t)},mouseout:function(t){t=P(this.root,t);var e=t.toElement||t.relatedTarget;if(e!=this.root)for(;e&&9!=e.nodeType;){if(e===this.root)return;e=e.parentNode}this._dispatchProxy(this._hovered,"mouseout",t),this.trigger("globalout",{event:t})},touchstart:function(t){t=P(this.root,t),this._lastTouchMoment=new Date,r(this,t,"start"),T.mousemove.call(this,t),T.mousedown.call(this,t),a(this)},touchmove:function(t){t=P(this.root,t),r(this,t,"change"),T.mousemove.call(this,t),a(this)},touchend:function(t){t=P(this.root,t),r(this,t,"end"),T.mouseup.call(this,t),+new Date-this._lastTouchMoment<w&&T.click.call(this,t),a(this)}};f.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(t){T[t]=function(e){e=P(this.root,e);var i=this.findHover(e.zrX,e.zrY,null);this._dispatchProxy(i,t,e)}});var M=function(t,e,i){function n(e,i){f.each(e,function(e){_(t,u(e),i._handlers[e])},i)}v.call(this),this.root=t,this.storage=e,this.painter=i,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,this._defaultCursorStyle="default",this._gestureMgr=new g,this._handlers=[],this._touching=!1,this._touchTimer,o(this),h()?n(m,this):l()&&n(x,this),n(y,this),p.call(this)};M.prototype={constructor:M,resize:function(t){this._hovered=null},dispatch:function(t,e){var i=this._handlers[t];i&&i.call(this,e)},dispose:function(){for(var t=this.root,e=y.concat(x),i=0;i<e.length;i++){var n=e[i];b(t,u(n),this._handlers[n])}this.root=this.storage=this.painter=null},setDefaultCursorStyle:function(t){this._defaultCursorStyle=t},_dispatchProxy:function(t,e,i){for(var r="on"+e,o=n(e,t,i),s=t;s&&(s[r]&&(o.cancelBubble=s[r].call(s,o)),s.trigger(e,o),s=s.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)}))},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),r=n.length-1;r>=0;r--)if(!n[r].silent&&n[r]!==i&&!n[r].ignore&&s(n[r],t,e))return n[r]}},f.mixin(M,v),f.mixin(M,p),t.exports=M},function(t,e,i){"use strict";function n(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function r(t,e){if(e=e||window.event,null!=e.zrX)return e;var i=e.type,r=i&&i.indexOf("touch")>=0;if(r){var o="touchend"!=i?e.targetTouches[0]:e.changedTouches[0];if(o){var s=n(t);e.zrX=o.clientX-s.left,e.zrY=o.clientY-s.top}}else{var a=n(t);e.zrX=e.clientX-a.left,e.zrY=e.clientY-a.top,e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}return e}function o(t,e,i){h?t.addEventListener(e,i):t.attachEvent("on"+e,i)}function s(t,e,i){h?t.removeEventListener(e,i):t.detachEvent("on"+e,i)}var a=i(12),h="undefined"!=typeof window&&!!window.addEventListener,l=h?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};t.exports={normalizeEvent:r,addEventListener:o,removeEventListener:s,stop:l,Dispatcher:a}},function(t,e){function i(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}i.prototype={constructor:i,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this._dispatchProxy(e,"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,r=i-this._x,o=n-this._y;this._x=i,this._y=n,e.drift(r,o,t),this._dispatchProxy(e,"drag",t.event);var s=this.findHover(i,n,e),a=this._dropTarget;this._dropTarget=s,e!==s&&(a&&s!==a&&this._dispatchProxy(a,"dragleave",t.event),s&&s!==a&&this._dispatchProxy(s,"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this._dispatchProxy(e,"dragend",t.event),this._dropTarget&&this._dispatchProxy(this._dropTarget,"drop",t.event),this._draggingTarget=null,this._dropTarget=null}},t.exports=i},function(t,e){"use strict";function i(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function n(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var r=function(){this._track=[]};r.prototype={constructor:r,recognize:function(t,e){return this._doTrack(t,e),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e){var i=t.touches;if(i){for(var n={points:[],touches:[],target:e,event:t},r=0,o=i.length;r<o;r++){var s=i[r];n.points.push([s.clientX,s.clientY]),n.touches.push(s)}this._track.push(n)}},_recognize:function(t){for(var e in o)if(o.hasOwnProperty(e)){var i=o[e](this._track,t);if(i)return i}}};var o={pinch:function(t,e){var r=t.length;if(r){var o=(t[r-1]||{}).points,s=(t[r-2]||{}).points||o;if(s&&s.length>1&&o&&o.length>1){var a=i(o)/i(s);!isFinite(a)&&(a=1),e.pinchScale=a;var h=n(o);return e.pinchX=h[0],e.pinchY=h[1],{type:"pinch",target:t[0].target,event:e}}}}};t.exports=r},function(t,e,i){"use strict";function n(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2===e.z2?t.__renderidx-e.__renderidx:t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var r=i(4),o=i(37),s=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};s.prototype={constructor:s,getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen;for(var r=0,o=i.length;r<o;r++)i[r].__renderidx=r;i.sort(n)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.clipPath;if(n&&(n.parent=t,n.updateTransform(),e?(e=e.slice(),e.push(n)):e=[n]),"group"==t.type){for(var r=t._children,o=0;o<r.length;o++){var s=r[o];s.__dirty=t.__dirty||s.__dirty,this._updateAndAddDisplayable(s,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){this._elements[t.id]||(t instanceof o&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof o&&i.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var s;s="string"==typeof t?this._elements[t]:t;var a=r.indexOf(this._roots,s);a>=0&&(this.delFromMap(s.id),this._roots.splice(a,1),s instanceof o&&s.delChildrenFromStorage(this))}},addToMap:function(t){return t instanceof o&&(t.__storage=this),t.dirty(),this._elements[t.id]=t,this},get:function(t){return this._elements[t]},delFromMap:function(t){var e=this._elements,i=e[t];return i&&(delete e[t],i instanceof o&&(i.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null}},t.exports=s},function(t,e,i){"use strict";var n=i(4),r=i(60).Dispatcher,o="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},s=i(17),a=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time=0,r.call(this)};a.prototype={constructor:a,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=n.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime(),e=t-this._time,i=this._clips,n=i.length,r=[],o=[],s=0;s<n;s++){var a=i[s],h=a.step(t);h&&(r.push(h),o.push(a))}for(var s=0;s<n;)i[s]._needsRemove?(i[s]=i[n-1],i.pop(),n--):s++;n=r.length;for(var s=0;s<n;s++)o[s].fire(r[s]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},start:function(){function t(){e._running&&(o(t),e._update())}var e=this;this._running=!0,this._time=(new Date).getTime(),o(t)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(t,e){e=e||{};var i=new s(t,e.loop,e.getter,e.setter);return i}},n.mixin(a,r),t.exports=a},function(t,e,i){"use strict";function n(t){return parseInt(t,10)}function r(t){return!!t&&(!!t.isBuildin||"function"==typeof t.resize&&"function"==typeof t.refresh)}function o(t){t.__unusedCount++}function s(t){t.__dirty=!1,1==t.__unusedCount&&t.clear()}function a(t,e,i){return g.copy(t.getBoundingRect()),t.transform&&g.applyTransform(t.transform),v.width=e,v.height=i,!g.intersect(v)}function h(t,e){if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}function l(t,e){for(var i=0;i<t.length;i++){var n,r=t[i];r.transform&&(n=r.transform,e.transform(n[0],n[1],n[2],n[3],n[4],n[5]));var o=r.path;o.beginPath(e),r.buildPath(o,r.shape),e.clip(),r.transform&&(n=r.invTransform,e.transform(n[0],n[1],n[2],n[3],n[4],n[5]))}}var u=i(22),c=i(4),d=i(21),f=i(25),p=i(66),g=new f(0,0,0,0),v=new f(0,0,0,0),y=function(t,e,i){var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();i=i||{},this.dpr=i.devicePixelRatio||u.devicePixelRatio,this._singleCanvas=n,this.root=t;var r=t.style;if(r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e,n){var o=t.width,s=t.height;this._width=o,this._height=s;var a=new p(t,this,1);a.initContext(),this._layers={0:a},this._zlevelList=[0]}else{var o=this._getWidth(),s=this._getHeight();this._width=o,this._height=s;var h=document.createElement("div");this._domRoot=h;var l=h.style;l.position="relative",l.overflow="hidden",l.width=this._width+"px",l.height=this._height+"px",t.appendChild(h),this._layers={},this._zlevelList=[]}this._layerConfig={},this.pathToImage=this._createPathToImage()};y.prototype={constructor:y,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._paintList(e,t);for(var n=0;n<i.length;n++){var r=i[n],o=this._layers[r];!o.isBuildin&&o.refresh&&o.refresh()}return this},_paintList:function(t,e){null==e&&(e=!1),this._updateLayerStatus(t);var i,n,r,u=this._width,c=this._height;this.eachBuildinLayer(o);for(var f=null,p=0,g=t.length;p<g;p++){var v=t[p],y=this._singleCanvas?0:v.zlevel;if(n!==y&&(n=y,i=this.getLayer(n),i.isBuildin||d("ZLevel "+n+" has been used by unkown layer "+i.id),r=i.ctx,i.__unusedCount=0,(i.__dirty||e)&&i.clear()),(i.__dirty||e)&&!v.invisible&&0!==v.style.opacity&&v.scale[0]&&v.scale[1]&&(!v.culling||!a(v,u,c))){var x=v.__clipPaths;h(x,f)&&(f&&r.restore(),x&&(r.save(),l(x,r)),f=x),v.beforeBrush&&v.beforeBrush(r),v.brush(r,!1),v.afterBrush&&v.afterBrush(r)}v.__dirty=!1}f&&r.restore(),this.eachBuildinLayer(s)},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||(e=new p("zr_"+t,this,this.dpr),e.isBuildin=!0,this._layerConfig[t]&&c.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,o=n.length,s=null,a=-1,h=this._domRoot;if(i[t])return void d("ZLevel "+t+" has been used already");if(!r(e))return void d("Layer of zlevel "+t+" is not valid");if(o>0&&t>n[0]){for(a=0;a<o-1&&!(n[a]<t&&n[a+1]>t);a++);s=i[n[a]]}if(n.splice(a+1,0,t),s){var l=s.dom;l.nextSibling?h.insertBefore(e.dom,l.nextSibling):h.appendChild(e.dom)}else h.firstChild?h.insertBefore(e.dom,h.firstChild):h.appendChild(e.dom);i[t]=e},eachLayer:function(t,e){var i,n,r=this._zlevelList;for(n=0;n<r.length;n++)i=r[n],t.call(e,this._layers[i],i)},eachBuildinLayer:function(t,e){var i,n,r,o=this._zlevelList;for(r=0;r<o.length;r++)n=o[r],i=this._layers[n],i.isBuildin&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,r,o=this._zlevelList;for(r=0;r<o.length;r++)n=o[r],i=this._layers[n],i.isBuildin||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,i={};this.eachBuildinLayer(function(t,e){i[e]=t.elCount,t.elCount=0});for(var n=0,r=t.length;n<r;n++){var o=t[n],s=this._singleCanvas?0:o.zlevel,a=e[s];if(a){if(a.elCount++,a.__dirty)continue;a.__dirty=o.__dirty}}this.eachBuildinLayer(function(t,e){i[e]!==t.elCount&&(t.__dirty=!0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?c.merge(i[t],e,!0):i[t]=e;var n=this._layers[t];n&&c.merge(n,i[t],!0)}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(c.indexOf(i,t),1))},resize:function(t,e){var i=this._domRoot;if(i.style.display="none",t=t||this._getWidth(),e=e||this._getHeight(),i.style.display="",this._width!=t||e!=this._height){i.style.width=t+"px",i.style.height=e+"px";for(var n in this._layers)this._layers[n].resize(t,e);this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=new p("image",this,t.pixelRatio||this.dpr);e.initContext();var i=e.ctx;e.clearColor=t.backgroundColor,e.clear();for(var n=this.storage.getDisplayList(!0),r=0;r<n.length;r++){var o=n[r];o.invisible||(o.beforeBrush&&o.beforeBrush(i),o.brush(i,!1),o.afterBrush&&o.afterBrush(i))}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientWidth||n(e.width)||n(t.style.width))-(n(e.paddingLeft)||0)-(n(e.paddingRight)||0)|0},_getHeight:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientHeight||n(e.height)||n(t.style.height))-(n(e.paddingTop)||0)-(n(e.paddingBottom)||0)|0},_pathToImage:function(t,e,n,r,o){var s=document.createElement("canvas"),a=s.getContext("2d");s.width=n*o,s.height=r*o,a.clearRect(0,0,n*o,r*o);var h={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[0,0,0],e.rotation=0,e.scale=[1,1],e&&e.brush(a);var l=i(38),u=new l({id:t,style:{x:0,y:0,image:s}});return null!=h.position&&(u.position=e.position=h.position),null!=h.rotation&&(u.rotation=e.rotation=h.rotation),null!=h.scale&&(u.scale=e.scale=h.scale),u},_createPathToImage:function(){var t=this;return function(e,i,n,r){return t._pathToImage(e,i,n,r,t.dpr)}}},t.exports=y},function(t,e,i){function n(){return!1}function r(t,e,i,n){var r=document.createElement(e),o=i.getWidth(),s=i.getHeight(),a=r.style;return a.position="absolute",a.left=0,a.top=0,a.width=o+"px",a.height=s+"px",r.width=o*n,r.height=s*n,r.setAttribute("data-zr-dom-id",t),r}var o=i(4),s=i(22),a=function(t,e,i){var a;i=i||s.devicePixelRatio,"string"==typeof t?a=r(t,"canvas",e,i):o.isObject(t)&&(a=t,t=a.id),this.id=t,this.dom=a;var h=a.style;h&&(a.onselectstart=n,h["-webkit-user-select"]="none",h["user-select"]="none",h["-webkit-touch-callout"]="none",h["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};a.prototype={constructor:a,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var t=this.dpr;1!=t&&this.ctx.scale(t,t)},createBackBuffer:function(){var t=this.dpr;this.domBack=r("back-"+this.id,"canvas",this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,r=n.style,o=this.domBack;r.width=t+"px",r.height=e+"px",n.width=t*i,n.height=e*i,1!=i&&this.ctx.scale(i,i),o&&(o.width=t*i,o.height=e*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(t){var e=this.dom,i=this.ctx,n=e.width,r=e.height,o=this.clearColor,s=this.motionBlur&&!t,a=this.lastFrameAlpha,h=this.dpr;if(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/h,r/h)),i.clearRect(0,0,n/h,r/h),o&&(i.save(),i.fillStyle=this.clearColor,i.fillRect(0,0,n/h,r/h),i.restore()),s){var l=this.domBack;i.save(),i.globalAlpha=a,i.drawImage(l,0,0,n/h,r/h),i.restore()}}},t.exports=a},function(t,e,i){function n(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var r in n)t.prototype[r]=n[r];t.prototype.constructor=t,t.superClass=e}function r(){for(var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),n=0,r=0;r<36;r++)8==r||13==r||18==r||23==r?i[r]="-":14==r?i[r]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),
t=15&n,n>>=4,i[r]=e[19==r?3&t|8:t]);return"sid-"+i.join("")}function o(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function s(t){for(var e=o(t[0],t[1]),i=[t[0],t[1]],n=1;n<t.length-1;n++)e<o(t[n],t[n+1])&&(e=o(t[n],t[n+1]),i=[t[n],t[n+1]]);return i}function a(t){for(var e=0,i=0;i<t.length-1;i++)e+=o(t[i],t[i+1]);return e}function h(t){if(0==t.lenght)return NaN;for(var e=t[0],i=0;i<t.length;i++)e<t[i]&&(e=t[i]);return e}function l(t){if(0==t.lenght)return NaN;for(var e=t[0],i=0;i<t.length;i++)e>t[i]&&(e=t[i]);return e}function u(t){if(t.length<=1)return!0;for(var e=0;e<t.length-1;e++)if(t[e].x!=t[e+1].x&&t[e].y!=t[e+1].y)return!1;return!0}function c(t,e){if(t.startPoint.x==t.endPoint.x&&e.startPoint.x==e.endPoint.x)return t.startPoint.x==e.startPoint.x&&(t.contains(e.startPoint.x,e.startPoint.y)||t.contains(e.endPoint.x,e.endPoint.y));if(t.startPoint.x==t.endPoint.x||e.startPoint.x==e.endPoint.x){if(t.startPoint.x==t.endPoint.x){var i=t;t=e,e=i}var n=(t.endPoint.y-t.startPoint.y)/(t.endPoint.x-t.startPoint.x),r=t.startPoint.y-n*t.startPoint.x,o=e.startPoint.x,s=n*o+r;return t.contains(o,s)&&e.contains(o,s)}var a=(t.endPoint.y-t.startPoint.y)/(t.endPoint.x-t.startPoint.x),h=t.startPoint.y-a*t.startPoint.x,l=(e.endPoint.y-e.startPoint.y)/(e.endPoint.x-e.startPoint.x),u=e.startPoint.y-l*e.startPoint.x;return a==l?h==u&&(t.contains(e.startPoint.x,e.startPoint.y)||t.contains(e.endPoint.x,e.endPoint.y)):(o=(u-h)/(a-l),s=a*o+h,t.contains(o,s)&&e.contains(o,s))}function d(t,e,i){var n=[];n.push(new R(new S(e[0],e[1]),new S(e[2],e[1]))),n.push(new R(new S(e[2],e[1]),new S(e[2],e[3]))),n.push(new R(new S(e[2],e[3]),new S(e[0],e[3]))),n.push(new R(new S(e[0],e[3]),new S(e[0],e[1])));for(var r=0;r<t.length-1;r++)for(var o=new R(t[r],t[r+1]),s=0;s<n.length;s++)if(c(o,n[s]))return!0;if(i)for(var o=new R(t[t.length-1],t[0]),s=0;s<n.length;s++)if(c(o,n[s]))return!0;return!1}function f(t){if(t.length<=2)return-1;for(var e=0,i=1;i<t.length-1;i++)if(t[i-1].x==t[i].x&&t[i].x==t[i+1].x){if(p(t[i+1].y-t[i].y)!=p(t[i].y-t[i-1].y))return-1;e++}else if(t[i-1].y==t[i].y&&t[i].y==t[i+1].y){if(p(t[i+1].x-t[i].x)!=p(t[i].x-t[i-1].x))return-1;e++}else e--;return e}function p(t){return t>0?1:t<0?-1:0}function g(t){if(t.length<=2)return!0;for(var e=0;e<t.length-2;e++)if(t[e].x==t[e+1].x&&t[e+1].x==t[e+2].x){if(0!=p(t[e+1].y-t[e].y)&&p(t[e+1].y-t[e].y)==-1*p(t[e+2].y-t[e+1].y))return!1}else if(t[e].y==t[e+1].y&&t[e+1].y==t[e+2].y&&0!=p(t[e+1].x-t[e].x)&&p(t[e+1].x-t[e].x)==-1*p(t[e+2].x-t[e+1].x))return!1;return!0}function v(t,e){var i=[];if(e){for(var n=0;n<t.length;n++){var r=t[n];i.push(new S(r[0],r[1]))}return i}for(var n=0;n<t.length;n++){var r=t[n];i.push([r.x,r.y])}return i}function y(t){var e=[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]];return e}function x(t,e){return[[1,0,t],[0,1,e],[0,0,1]]}function m(t,e){return null==e&&(e=t),[[t,0,0],[0,e,0],[0,0,1]]}function w(t,e,i){var n=t.clone();return n.transform(x(-t.x,-t.y)),n.y-=e,n.transform(y(i)),n.transform(x(t.x,t.y)),n}function _(t){return{left:new S(t.x,t.y+t.height/2),top:new S(t.x+t.width/2,t.y),right:new S(t.x+t.width,t.y+t.height/2),bottom:new S(t.x+t.width/2,t.y+t.height),center:new S(t.x+t.width/2,t.y+t.height/2)}}function b(t){return[[10*Math.round(t.getRect().width/3/10),0],[10*Math.round(2*t.getRect().width/3/10),0],[t.getRect().width,10*Math.round(t.getRect().height/3/10)],[t.getRect().width,10*Math.round(2*t.getRect().height/3/10)],[10*Math.round(t.getRect().width/3/10),t.getRect().height],[10*Math.round(2*t.getRect().width/3/10),t.getRect().height],[0,10*Math.round(t.getRect().height/3/10)],[0,10*Math.round(2*t.getRect().height/3/10)]]}function P(t,e){return-Math.PI/2-Math.atan2(e.y-t.y,e.x-t.x)}function T(t,e,i,n){var r=t.x*e.y+t.y*i.x+e.x*i.y-(e.y*i.x+t.y*e.x+t.x*i.y);return n?Math.abs(r)<=n:0===r}function M(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function k(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function C(t,e,i){t.x=M(t.x,5),t.y=M(t.y,5),e.x=M(e.x,5),e.y=M(e.y,5);var n=Math.atan((e.x-t.x)/(e.y-t.y));for(n=-n,e.x>=t.x&&e.y>=t.y?n+=Math.PI:e.x<=t.x&&e.y>=t.y?n+=Math.PI:e.x<=t.x&&e.y<=t.y&&(n+=2*Math.PI);n>=2*Math.PI;)n-=2*Math.PI;return isNaN(n)&&(n=0),i&&(n=Math.round(n/i)*i),n}function L(t){var e=t.getBoundingRect(),i=[];i[0]=[-e.width/2,-e.height/2],i[1]=[e.width/2,-e.height/2],i[2]=[e.width/2,e.height/2],i[3]=[-e.width/2,e.height/2],i[4]=[-e.width/2,-e.height/2];var n,r,o;return t instanceof D.Circle?(n=new A(t.position[0]-e.width/2,t.position[1]-e.height/2,e.width,e.height),r=t.position[0],o=t.position[1]):(n=new A(t.position[0],t.position[1],e.width,e.height),r=t.position[0]+e.width/2,o=t.position[1]+e.height/2),{x:r,y:o,width:e.width,height:e.height,points:i,boundingRect:n}}function B(){for(var t,e=["0","2","3","4","5","6","7","8","9","a","b","c","d"],i="#",n=0;n<6;n++)t=Math.round(15*Math.random()),i+=e[t];return i}function N(t){return void 0===t}function I(t,e,i){!e&&i&&(e=i),e=e||{},e=F.defaults(e,E,!0);var n=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(n,function(e,i,n,s,a){return o+=t.slice(r,a).replace(q,U),r=a+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj",o)}catch(a){throw a.source=o,a}var h=function(t){return s.call(this,t)},l=e.variable||"obj";return h.source="function("+l+"){\n"+o+"}",h}var S=i(68),R=i(69),D=i(3),A=i(25),F=i(4),O={createNew:function(){var t=[];return{add:function(t,e){var i=this.get(t);i.push(e)},get:function(e){for(var i=0;i<t.length;i++)if(e==t[i].key)return t[i].value;var n=[];return t.push({key:e,value:n}),n},keys:function(){for(var e=[],i=0;i<t.length;i++)e.push(t[i].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var i=-1,n=0;n<t.length;n++)if(e==t[n].key){i=n;break}return t.splice(i,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}},E={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},z=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+W[t]};t.exports={inherits:n,getUUID:r,distance:o,getPolylineLength:a,max:h,min:l,orthogonalPath:u,polylineIntersectsRectangle:d,scorePath:f,forwardPath:g,traslatePoints:v,getEndPoint:w,getConnectorPoints:_,tangentRotation:P,collinearity:T,translationMatrix:x,scaleMatrix:m,round:M,getLength:k,getAngle:C,getRect:L,StackedMap:O,getMaxLineLength:s,randomColor:B,template:I,isUndefined:N,getSoltPoints:b}},function(t,e){function i(t,e){this.x=t,this.y=e}i.load=function(t){var e=new i(Number(t.x),Number(t.y));return e},i.loadArray=function(t){for(var e=[],n=0;n<t.length;n++)e.push(i.load(t[n]));return e},i.cloneArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].clone());return e},i.prototype={constructor:i,transform:function(t){var e=this.x,i=this.y;this.x=t[0][0]*e+t[0][1]*i+t[0][2],this.y=t[1][0]*e+t[1][1]*i+t[1][2]},equals:function(t){return t instanceof i&&(this.x==t.x&&this.y==t.y)},clone:function(){var t=new i(this.x,this.y);return t},near:function(t,e,i){var n=Math.sqrt(Math.pow(this.x-t,2)+Math.pow(this.y-e,2));return n<=i},contains:function(t,e){return this.x==t&&this.y==e},toString:function(){return"["+this.x+","+this.y+"]"},getPoints:function(){return[this]}},t.exports=i},function(t,e){function i(t,e){this.startPoint=t,this.endPoint=e,this.oType="Line"}i.load=function(t){var e=new i(Point.load(t.startPoint),Point.load(t.endPoint));return e},i.prototype={contructor:i,clone:function(){var t=new i(this.startPoint.clone(),this.endPoint.clone());return t},equals:function(t){return!(!t instanceof i)&&(this.startPoint.equals(t.startPoint)&&this.endPoint.equals(t.endPoint))},contains:function(t,e){if(Math.min(this.startPoint.x,this.endPoint.x)<=t&&t<=Math.max(this.startPoint.x,this.endPoint.x)&&Math.min(this.startPoint.y,this.endPoint.y)<=e&&e<=Math.max(this.startPoint.y,this.endPoint.y)){if(this.startPoint.x==this.endPoint.x)return t==this.startPoint.x;var i=(this.endPoint.y-this.startPoint.y)/(this.endPoint.x-this.startPoint.x),n=this.startPoint.y-i*this.startPoint.x;return e==i*t+n}return!1},near:function(t,e,i){if(this.endPoint.x===this.startPoint.x)return(this.startPoint.y-i<=e&&this.endPoint.y+i>=e||this.endPoint.y-i<=e&&this.startPoint.y+i>=e)&&t>this.startPoint.x-i&&t<this.startPoint.x+i;if(this.startPoint.y===this.endPoint.y)return(this.startPoint.x-i<=t&&this.endPoint.x+i>=t||this.endPoint.x-i<=t&&this.startPoint.x+i>=t)&&e>this.startPoint.y-i&&e<this.startPoint.y+i;var n=Math.min(this.endPoint.x,this.startPoint.x),r=Math.min(this.endPoint.y,this.startPoint.y),o=Math.max(this.endPoint.x,this.startPoint.x),s=Math.max(this.endPoint.y,this.startPoint.y),a=this.endPoint.y-this.startPoint.y,h=this.startPoint.x-this.endPoint.x,l=-(this.startPoint.x*this.endPoint.y-this.endPoint.x*this.startPoint.y),u=Math.abs((a*t+h*e+l)/Math.sqrt(Math.pow(a,2)+Math.pow(h,2))),c=(h*(h*t-a*e)-a*l)/(Math.pow(a,2)+Math.pow(h,2)),d=(a*(-h*t+a*e)-h*l)/(Math.pow(a,2)+Math.pow(h,2)),f=u<=i&&o>=c&&c>=n&&s>=d&&d>=r||this.startPoint.near(t,e,i)||this.endPoint.near(t,e,i);return f},getPoints:function(){var t=[];return t.push(this.startPoint),t.push(this.endPoint),t},getPoint:function(t){var e=t*(this.endPoint.x-this.startPoint.x)+this.startPoint.x,i=t*(this.endPoint.y-this.startPoint.y)+this.startPoint.y;return new Point(e,i)},toString:function(){return"line("+this.startPoint+","+this.endPoint+")"}},t.exports=i},function(t,e,i){var n=i(71),r=i(4),o=n.extend({defaultOption:{resourceId:"",properties:{type:-1,name:"",notes:"",extProperties:{},bounds:{upperLeft:{x:0,y:0},lowerRight:{x:0,y:0}}},stencil:{type:"NextworkNode"},showTip:!1},init:function(t,e,i){r.merge(t,this.getDefaultOption())},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var t=[],e=this.constructor;e;){var i=e.prototype.defaultOption;i&&t.push(i),e=e.superClass}for(var n={},o=t.length-1;o>=0;o--)n=r.merge(n,t[o],!0);this.__defaultOption=n}return this.__defaultOption}});t.exports=o},function(t,e,i){function n(t,e,i){this.parentModel=e,this.option=t,this.init&&(arguments.length<=3?this.init(t,e,i):this.init.apply(this,arguments))}var r=i(4),o=i(72);n.prototype={constructor:n,init:function(t,e,i){r.merge(t,this.getDefaultOption())},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var t=[],e=this.constructor;e;){var i=e.prototype.defaultOption;i&&t.push(i),e=e.superClass}for(var n={},o=t.length-1;o>=0;o--)n=r.merge(n,t[o],!0);this.__defaultOption=n}return this.__defaultOption},mergeOption:function(t){r.merge(this.option,t,!0)},get:function(t,e){if(!t)return this.option;"string"==typeof t&&(t=t.split("."));for(var i=this.option,n=this.parentModel,r=0;r<t.length&&(i=i&&"object"==typeof i?i[t[r]]:null,null!=i);r++);return null==i&&n&&!e&&(i=n.get(t)),i},set:function(t,e){var i=this.option;if(t.indexOf(".")==-1)i[t]=e;else{for(var n,r=t.split("."),o=r.length,s=i,a=0;a<o-1;a++)n=r[a],null==s[n]&&(s[n]={}),s=s[n];n=r[o-1],s[n]=e}},getShallow:function(t,e){var i=this.option,n=i&&i[t],r=this.parentModel;return null==n&&r&&!e&&(n=r.getShallow(t)),n},getModel:function(t,e){var i=this.get(t,!0),r=this.parentModel,o=new n(i,e||r&&r.getModel(t));return o},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var t=this.constructor;return new t(r.clone(this.option))}},o.enableClassExtend(n),t.exports=n},function(t,e,i){function n(t,e){var i=o.slice(arguments,2);return this.superClass.prototype[e].apply(t,i)}function r(t,e,i){return this.superClass.prototype[e].apply(t,i)}var o=i(4),s={},a=".",h="___FT__COMPONENT__CONTAINER___",l=s.parseClassType=function(t){var e={main:"",sub:""};return t&&(t=t.split(a),e.main=t[0]||"",e.sub=t[1]||""),e};s.enableClassExtend=function(t,e){t.extend=function(i){var s=function(){e&&e.apply(this,arguments),t.apply(this,arguments)};return o.extend(s.prototype,i),s.extend=this.extend,s.superCall=n,s.superApply=r,o.inherits(s,this),s.superClass=this,s}},s.enableClassManagement=function(t,e){function i(t){var e=n[t.main];return e&&e[h]||(e=n[t.main]={},e[h]=!0),e}e=e||{};var n={};if(t.registerClass=function(t,e){if(e)if(e=l(e),e.sub){if(e.sub!==h){var r=i(e);r[e.sub]=t}}else{if(n[e.main])return;n[e.main]=t}return t},t.getClass=function(t,e,i){var r=n[t];if(r&&r[h]&&(r=e?r[e]:null),i&&!r)throw new Error("Component "+t+"."+(e||"")+" not exists. Load it first.");return r},t.getClassesByMainType=function(t){t=l(t);var e=[],i=n[t.main];return i&&i[h]?o.each(i,function(t,i){i!==h&&e.push(t)}):e.push(i),e},t.hasClass=function(t){return t=l(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return o.each(n,function(e,i){t.push(i)}),t},t.hasSubTypes=function(t){t=l(t);var e=n[t.main];return e&&e[h]},t.parseClassType=l,e.registerWhenExtend){var r=t.extend;r&&(t.extend=function(e){var i=r.call(this,e);return t.registerClass(i,e.type)})}return t},t.exports=s},function(t,e,i){function n(t,e){r.call(this),this.model=t,this.options={outline:{enable:!0,radius:!0,initVisible:!1},text:{color:"#000000",lineHeight:24}},this.nextworkInfo={type:-1,name:"NextworkNode"},this.portNodeList=[],this.cardNodeList=[],this.initEvent(e)}var r=i(74),o=i(4),s=i(3),a=i(72);n.prototype.initEvent=function(t){var e=this,i=["click","mouseover","mouseout"];o.each(i,function(i){e.on(i,function(n){var r={};r.event=n,r.type=i,r.model=e.model,t.trigger(i,r)},this)},this)},n.prototype.render=function(){},n.prototype.drawText=function(t,e,i,n){var r=new s.Text({style:{text:t,x:e,y:i+6,color:n?n:this.options.text.color,textFont:"12px Microsoft YaHei"},zlevel:20});return{text:r,rect:r.getBoundingRect()}},n.prototype.toJSON=function(){return this.model.set("resourceId",this.resourceId),this.model.set("properties.type",this.nextworkInfo.type),this.model.set("stencil.type",this.nextworkInfo.name),this.model.set("bounds.upperLeft.x",this.position[0]),this.model.set("bounds.upperLeft.y",this.position[1]),this.model.set("bounds.lowerRight.x",this.position[0]+this.getBoundingRect().width),this.model.set("bounds.lowerRight.y",this.position[1]+this.getBoundingRect().height),this.model.option},o.inherits(n,r),a.enableClassManagement(n,{registerWhenExtend:!0}),t.exports=n},function(t,e,i){function n(){this.resourceId=o.getUUID(),r.Group.call(this)}var r=i(3),o=i(67);n.prototype.render=function(){},n.prototype.getRect=function(t){},n.prototype.drawText=function(t,e){var i=this.bpmnInfo.name;null!=t&&(i=t);var n=new r.Text({style:{text:i,color:e?e:this.options.text.color,textFont:"12px Microsoft YaHei"},zlevel:20}),o=this.getRect().x-this.position[0]-n.getBoundingRect().width/2,s=this.getRect().y-this.position[1]+this.getBoundingRect().height/2+n.getBoundingRect().height+6;return n.attr("style",{x:o,y:s}),{text:n,rect:n.getBoundingRect()}},n.prototype.refreshText=function(){var t=this.childOfName("Title"),e=this.getRect().x-this.position[0]-t.getBoundingRect().width/2,i=this.getRect().y-this.position[1]+this.getBoundingRect().height/2+t.getBoundingRect().height+6;t.attr("style",{x:e,y:i})},n.prototype.toJSON=function(){},r.Util.inherits(n,r.Group),t.exports=n},function(t,e,i){function n(t,e){o.call(this,t,e),this.rackkInfo={type:-1,name:"RackNode"},this.model=t,this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=i(3),h=i(70);n.prototype.render=function(t,e){this.model=t;var i=t.get("UData"),n=t.get("showTip"),o=new a.Text({style:{x:80,y:-30,text:"42U",width:200,height:20,fill:"#8F8B8A",textFont:"18px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(o);var s=new a.Rect({shape:{x:0,y:0,width:t.get("width"),height:t.get("height")},style:{fill:"#FFFFFF",stroke:"#B3B3B3",lineWidth:"1"}});this.add(s);var l=new a.Rect({shape:{x:5,y:5,width:t.get("width")-10,height:t.get("height")-10},style:{fill:"#FFFFFF",stroke:"#B3B3B3",lineWidth:"1"}});this.add(l);for(var u=42;u>0;){for(var c=1,d=!1,f=0;f<i.length;f++)if(u===parseInt(i[f].floor)){c=parseInt(i[f].height);var p={resourceId:r.getUUID(),properties:{type:"Server",extProperties:{}},bounds:{upperLeft:{x:5,y:5+15*(42-u)}},stencil:{type:i[f].type+"Node"}};p.height=15*c-3,p.width=t.get("width")-10,p.parmDate=i[f],p.floor=i[f].floor,p.floorNum=c,void 0!==i[f].column&&(p.column=i[f].column),p.showTip=n;var g=new h(p);this.addNodeByModel(g,e);var v=new a.Rect({shape:{x:5,y:5+15*(42-u)+15*c-3,width:t.get("width")-10,height:3},style:{fill:"#FFFFFF",stroke:"#B3B3B3",lineWidth:"1"}});this.add(v),d=!0}if(!d){var v=new a.Rect({shape:{x:5,y:5+15*(42-u)+12,width:t.get("width")-10,height:3},style:{fill:"#FFFFFF",stroke:"#B3B3B3",lineWidth:"1"}});this.add(v)}u-=c}this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.addNodeByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;if(i){n=new i(t,this.api),this.add(n);var r=["click"];t.get("showTip")&&(r=["click","mouseover","mouseout"]),s.each(r,function(t){n.on(t,function(i){if("mouseover"===t){var r={};r.event=i,r.x=n.parent.position[0]+i.target.position[0],r.y=n.parent.position[1]+i.target.position[1]+i.target.style.height/2,r.width=150,r.height=170,r.eWidth=i.target.style.width+5,r.parmDate=i.target.parmDate,e.getHeight()-r.y>r.height?r.layout="down":r.layout="up",e.showTipWindow(r)}else e.hideTipWindow(i.event.target)},this)},this)}},s.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){for(var i=[],n=0;n<e.length;n++){var r=e[n];r&&r.toJSON&&i.push(r.toJSON())}return t.set("childShapes",i),t.option}function r(t,e){if(t.clear(),"rack"===e.type)for(var i=50,n=0;n<e.data.length;n++){var r={resourceId:s.getUUID(),properties:{type:e.data[n].rack},bounds:{upperLeft:{x:i,y:50}},stencil:{type:"RackNode"}};r.height=void 0!=e.data[n].height?e.data[n].height:635,r.width=void 0!=e.data[n].width?e.data[n].width:200,r.UData=e.data[n].UData,r.showTip=e.showTip;var o=new h(r);t.addNodeByModel(o),i+=250}else if("topo"===e.type){var r={resourceId:s.getUUID(),bounds:{upperLeft:{x:0,y:0}},stencil:{type:"TopoDrawNode"}};r.height=t.height,r.width=t.width,r.nodeList=e.data,r.showTip=e.showTip;var a=new h(r);t.addNodeByModel(a)}else if("cluster"===e.type){var r={resourceId:s.getUUID(),bounds:{upperLeft:{x:0,y:0}},stencil:{type:"ClusterDrawNode"}};r.height=t.height,r.width=t.width,r.nodeList=e.data,r.showTip=e.showTip;var l=new h(r);t.addNodeByModel(l)}}function o(){a.registerClass(l,"RackNode"),a.registerClass(u,"TipWindowNode"),a.registerClass(c,"ServerNode"),a.registerClass(d,"SwitchNode"),a.registerClass(g,"TopoDrawNode"),a.registerClass(v,"ServerR630Node"),a.registerClass(y,"ServerR730Node"),a.registerClass(f,"PointNode"),a.registerClass(p,"CardNode"),a.registerClass(x,"ServerX3550Node"),a.registerClass(m,"ServerX3650Node"),a.registerClass(w,"ServerRD350Node"),a.registerClass(_,"ServerRD650Node"),a.registerClass(P,"SwitchFullIBNode"),a.registerClass(b,"SwitchHalfIBNode"),a.registerClass(M,"SwitchKMNode"),a.registerClass(T,"SwitchGMNode"),a.registerClass(k,"ClusterDrawNode"),a.registerClass(C,"ClusterDatabaseNode"),a.registerClass(L,"ClusterAsmNode"),a.registerClass(B,"ClusterAsmCellNode"),a.registerClass(N,"ClusterIseNode"),a.registerClass(I,"ClusterIseCellNode")}var s=i(67),a=i(73),h=i(70),l=i(75),u=i(77),c=i(78),d=i(79),f=i(80),p=i(81),g=i(82),v=i(89),y=i(91),x=i(93),m=i(94),w=i(95),_=i(96),b=(i(97),i(98)),P=i(99),T=i(100),M=i(101),k=i(102),C=i(106),L=i(107),B=i(108),N=i(109),I=i(110),S={exportJson:n,fromJson:r,registerNetworkNode:o};t.exports=S},function(t,e,i){function n(t,e){r.call(this),this.model=t,this.nextworkInfo={type:-1,name:"TipWindowNodeDiagram"},this.initEvent(e),this.render(t,e)}var r=i(74),o=i(4),s=i(3);i(72);n.prototype.initEvent=function(t){},n.prototype.render=function(t,e){var i=t.x,n=t.y,r=t.eWidth,o=t.width,a=t.height,h=[[i+r+20,n],[i+r,n],[i+r+20,n+15],[i+r+20,n+a],[i+r+o,n+a],[i+r+o,n]];void 0!=t.layout&&"up"===t.layout&&(h=[[i+r+20,n],[i+r,n],[i+r+20,n-15],[i+r+20,n-a],[i+r+o,n-a],[i+r+o,n]]),void 0!=t.layout&&"left"===t.layout&&(h=[[i-2*o-10,n],[i-2*o+10,n],[i-2*o-10,n+15],[i-2*o-10,n+a],[i-2*o-o,n+a],[i-2*o-o,n]]);var l="请查询数据";void 0!==t.parmDate&&(l="status: online \n CPU:  \n MEM:  \n Ip address: \n floor: "+t.parmDate.floor+"\n height: "+t.parmDate.height,void 0!==t.parmDate.tipContext&&(l=t.parmDate.tipContext));var u=new s.Polygon({shape:{points:h},style:{stroke:"rgba(20, 20, 20, 0.2)",fill:"rgba(20, 20, 20, 0.1)",lineWidth:"1",text:l,lineWidth:3}});this.add(u)},o.inherits(n,r),t.exports=n},function(t,e,i){function n(t,e){return r.call(this,t,e),this.serverInfo={type:-1,name:"ServerNode"},this.model=t,this.render(t,e)}var r=i(73),o=i(4),s=i(3);n.prototype.render=function(t,e){this.model=t;var i=new s.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/sDellR630b.png",width:t.get("width"),height:15*t.get("floorNum")-3},draggable:!1,parmDate:t.get("parmDate")});return i.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")],i},o.inherits(n,r),t.exports=n},function(t,e,i){function n(t,e){return r.call(this,t,e),this.serverInfo={type:-1,name:"SwitchNode"},this.model=t,this.render(t,e)}var r=i(73),o=i(4),s=i(3);n.prototype.render=function(t,e){this.model=t;var i=t.get("bounds.upperLeft.x"),n=t.get("bounds.upperLeft.y"),r=t.get("height"),o=t.get("width");void 0===t.get("column")||"all"===t.get("column")||(o=t.get("width")/2-5,"right"===t.get("column")&&(i=5+o+5));var a=new s.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/IBSwitchFull.png",width:o,height:r},draggable:!1,parmDate:t.get("parmDate")});return a.position=[i,n],a},o.inherits(n,r),t.exports=n},function(t,e,i){function n(t,e){r.call(this,t,e),this.rackkInfo={type:-1,name:"PointNode"},this.model=t,this.lineInfo=t.get("lineInfo"),this.render(t,e)}var r=(i(67),i(73)),o=i(4),s=i(3);i(70);n.prototype.render=function(t,e){this.model=t;var i=(new s.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0}),new s.Rect({shape:{x:0,y:0,width:t.get("width"),height:t.get("height")},style:{fill:"#E2E3D9",stroke:"#B3B3B3",opacity:.1,lineWidth:"1"}}));this.add(i),this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},o.inherits(n,r),t.exports=n},function(t,e,i){function n(t,e){o.call(this,t,e),this.rackkInfo={type:-1,name:"CardNode"},this.model=t,this.lineInfo=t.get("lineInfo"),this.pointList=[],this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=i(3),h=i(70);n.prototype.render=function(t,e){this.model=t;var i=t.get("portData"),n=t.get("type"),o=t.get("direction"),s="";"1"===n||"3"===n?s="../../../src/third-party/fish-topo/fish-topo-network/src/images/IB1.jpg":"5"===n?s="../../../src/third-party/fish-topo/fish-topo-network/src/images/km2.jpg":"6"===n&&(s="../../../src/third-party/fish-topo/fish-topo-network/src/images/km4.jpg");var l=new a.Image({scale:[1,1],style:{x:0,y:0,image:s,width:t.get("width"),height:t.get("height")},draggable:!1,invisible:!1,parmDate:i});this.add(l),l.hide();var u=t.get("resourcesName"),c=t.get("resourceNodeType"),d=t.get("No");if("leftRight"===o){var f=4,p=2,g=8,v=5;"1"!==n&&"2"!==n&&"3"!==n&&"4"!==n||(g=20);for(var y=0;y<i.length;y++){var x={};x={resourceId:r.getUUID(),bounds:{upperLeft:{x:f,y:p}},stencil:{type:"PointNode"}},x.height=v,x.width=g;var m={};m.sourceReource=u,m.sourceCardNo=d,m.sourcePort=y,m.nodetype=c,m.sourceStatus=i[y].status,m.targetReource=i[y].target.reourceName,m.targetPort=i[y].target.port,x.lineInfo=m;var w=new h(x);this.addPortByModel(w,e),f=f+g+2}}this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.addPortByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,e),this.pointList.push(n),this.add(n))},s.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){o.call(this,t,e),this.rackkInfo={type:-1,name:"TopoDrawNode"},this.model=t,this.portList=[],this.render(t,e)}var r=i(67),o=i(73),s=i(83),a=i(4),h=i(3),l=i(70),u=i(88);n.prototype.render=function(t,e){var i=t.get("nodeList"),n=216,o=300,s=this.getWidth(i,n,o);s=s>t.get("width")?s:t.get("width"),e.resize(s,t.get("height")),this.model=t;var a=t.get("showTip"),u=100,c=30,d=10,f=20,p=new h.Text({style:{x:u,y:d,text:"千兆",width:c,height:f,fill:"#8F8B8A",textFont:"10px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(p);var g=new h.Line({shape:{x1:u+c,y1:d+10,x2:u+c+100,y2:d+10,lineWidth:5,text:"line"},style:{stroke:"#0704EC",lineType:"solid",fill:null}});this.add(g),d+=f;var v=new h.Text({style:{x:u,y:d,text:"万兆",width:c,height:f,fill:"#8F8B8A",textFont:"10px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(v);var y=new h.Line({shape:{x1:u+c,y1:d+10,x2:u+c+100,y2:d+10,lineWidth:5,text:"line"},style:{stroke:"#070413",lineType:"solid",fill:null}});this.add(y),d+=f;var x=new h.Text({style:{x:u,y:d,text:"IB",width:c,height:f,fill:"#8F8B8A",textFont:"10px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(x);var m=new h.Line({shape:{x1:u+c,y1:d+10,x2:u+c+100,y2:d+10,lineWidth:5,text:"line"},style:{stroke:"#9C8826",lineType:"solid",fill:null}});this.add(m);var w=new h.Line({shape:{x1:50,y1:70,x2:50,y2:650,text:"line"},style:{stroke:"#000",lineType:"solid",lineWidth:3,fill:null}});this.add(w);var _=new h.Line({shape:{x1:50,y1:250,x2:s-50,y2:250,text:"line"},style:{stroke:"#000",lineType:"solid",lineWidth:3,fill:null}});this.add(_);var b=new h.Line({shape:{x1:50,y1:450,x2:s-50,y2:450,text:"line"},style:{stroke:"#000",lineType:"solid",lineWidth:3,fill:null}});this.add(b);for(var P=70,T=110,M=90,k=0;k<i.length;k++){var C=145,L={},B="TopoDrawNode";"1"===i[k].nodetype?("ServerR730"!==i[k].type&&"ServerX3650"!==i[k].type||(C=125),B=i[k].type+"Node",L={resourceId:r.getUUID(),bounds:{upperLeft:{x:P,y:C}},stencil:{type:B}},L.width=n,P+=n+20):"2"===i[k].nodetype?(C=550,B=i[k].type+"Node",L={resourceId:r.getUUID(),bounds:{upperLeft:{x:T,y:C}},stencil:{type:B}},L.width=n,T+=n+20):"3"===i[k].nodetype&&(B=i[k].type+"Node",C=335,L={resourceId:r.getUUID(),bounds:{upperLeft:{x:M,y:C}},stencil:{type:B}},"SwitchHalfIB"===i[k].type?(L.width=o/2,M+=o/2+50):(L.width=o,M+=o+50)),L.name=i[k].reourceName,L.nodetype=i[k].nodetype,L.height=15,void 0!=i[k].cards&&(L.cards=i[k].cards),L.showTip=a;var N=new l(L);this.addNodeByModel(N,e)}for(var I=0;I<this.portList.length;I++){for(var S=this.portList[I],R=null,D=0;D<this.portList.length;D++)if(S.lineInfo.targetReource===this.portList[D].lineInfo.sourceReource&&S.lineInfo.targetPort===this.portList[D].lineInfo.sourcePort){R=this.portList[D];break}null!==R&&null!=S&&this.drawLine(S,R,e)}this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.getWidth=function(t,e,i){for(var n=0,r=0,o=0,s=0;s<t.length;s++)"1"===t[s].nodetype?n++:"2"===t[s].nodetype?r++:"3"===t[s].nodetype&&o++;var a=n>r?n:r,h=60+a*(e+50)+150,l=40+o*(i+50)+150;return h>l?h:l},n.prototype.addNodeByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;if(i&&(n=new i(t,e),this.add(n),void 0!==n.portNodeList&&n.portNodeList.length>0))for(var r=0;r<n.portNodeList.length;r++)this.portList.push(n.portNodeList[r])},n.prototype.drawLine=function(t,e,i){var n=t.position[0]+t.parent.position[0]+t.parent.parent.position[0],r=t.position[1]+t.parent.position[1]+t.parent.parent.position[1],o=t.model.get("width"),a=t.model.get("height"),h=e.position[0]+e.parent.position[0],l=e.position[1]+e.parent.position[1],c=e.model.get("width"),d=e.model.get("height"),f=250,p=t.model.get("lineInfo").nodetype;"2"===p&&(f=450);var g=t.lineInfo.moddleX,v={fromBounds:{x:n,y:r,width:o,height:a},toBounds:{x:h,y:l,width:c,height:d},moddleY:f,style:{lineWidth:1,stroke:"#62A4DD"},hoverStyle:{lineWidth:2,stroke:"red"}};void 0!==g&&(v.moddleX=g);var y=new u(v),x=new s(y);this.add(x),x.on("mouseover",function(t){var e={};e.event=t,e.x=t.offsetX,e.y=t.offsetY,e.width=150,e.height=170,e.eWidth=5,e.parmDate=t.target.parmDate,i.showTipWindow(e)}),x.on("mouseout",function(t){i.hideTipWindow(t.event.target)})},a.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){r.call(this),this.model=t,this.con=null,this.render(),this.refreshLine()}var r=i(74),o=(i(73),i(67)),s=(i(3),i(68)),a=i(84);n.prototype.render=function(){var t={};this.model.get("isVector")?t.symbol={type:"arrow",size:10,color:"#000000"}:t.symbol={type:""};var e=this.model.get("style"),i=this.model.get("hoverStyle");t.style=e,t.hoverStyle=i;var n=this.model.get("isEdit");t.isEdit=n,this.con=new a(t),this.add(this.con)},n.prototype.refreshLine=function(){var t=this.model.get("moddleY"),e=this.model.get("moddleX"),i=this.model.get("fromBounds"),n=[i.x,i.y,i.x+i.width,i.y+i.height],r=this.model.get("toBounds"),s=[r.x,r.y,r.x+r.width,r.y+r.height],a=o.getConnectorPoints(i),h=o.getConnectorPoints(r),l=null,u=null;i.y<r.y?(l=a.bottom,u=h.top):(l=a.top,u=h.bottom);var c=this.connector2Points(l,u,e,t,n,s);this.con.refresh(c[0][2])},n.prototype.connector2Points=function(t,e,i,n,r,o){var a=[],h=[t];void 0!==i&&null!==i?(h.push(new s(t.x-i,t.y)),h.push(new s(t.x-i,n)),h.push(new s(e.x,n))):(h.push(new s(t.x,n)),h.push(new s(e.x,n))),h.push(e);var l=s.cloneArray(h);return a.push(["s0","s0",l]),a},o.inherits(n,r),t.exports=n},function(t,e,i){function n(t){a.call(this),this.resourceId=r.getUUID();var e={symbol:{type:"arrow",size:10,color:"#000000"},style:{lineWidth:1,stroke:"#000000",lineType:n.TYPE_STRAIGHT},hoverStyle:{lineWidth:2,stroke:"lime"},arrowHoverStyle:{fill:"lime"},shape:{points:null,smooth:!1,smoothConstraint:null},position:[0,0],isEdit:!0,text:{text:"",color:"#000000",textFont:"12px Microsoft YaHei"}},i=t||{};this.options=o.merge(e,i,!0),this.model=t.model,this.handles=[],this.connectionPoints=[],this.conPointsGroup=null,this.startNode=null,this.endNode=null,this.icons=[],this.render()}var r=i(67),o=i(4),s=i(3),a=i(74),h=i(85),l=i(86),u=i(87);n.TYPE_STRAIGHT="straight",n.TYPE_JAGGED="jagged",n.TYPE_ROUND="round",n.RADIUS=3,n.START_NODE="startNode",n.END_NODE="endNode",n.LEFT="left",n.RIGHT="right",n.TOP="top",n.BOTTOM="bottom",n.BOTTOM="bottom",n.SEPERATOR="-",n.prototype.refresh=function(t){t&&(this.turningPoints=t);var t=r.traslatePoints(this.turningPoints);this.line.attr("shape",{points:t});var e=this.childOfName("toSymbol");e&&(e.attr("position",t[t.length-1]),e.attr("rotation",r.tangentRotation(this.turningPoints[this.turningPoints.length-2],this.turningPoints[this.turningPoints.length-1])));var i=this.childOfName("lineText");if(!i&&this.options.text.text){var o=this.drawText("lineText",this.options.text.text,0,0);this.add(o.text),i=this.childOfName("lineText")}if(i){i.setStyle("text",this.options.text.text);var s=this.middle(this.options.text);if(this.options.style.lineType==n.TYPE_STRAIGHT){var t=r.getMaxLineLength(this.turningPoints),a=-Math.atan2(t[1].y-s[1],t[1].x-s[0]);i.attr("rotation",a)}i.attr("position",s)}},n.prototype.render=function(){var t=this;this.line=new s.Polyline({position:this.options.position,shape:this.options.shape,style:this.options.style,z:0}),this.add(this.line);var e=["dblclick","click"];o.each(e,function(e){t.line.on(e,function(i){var n={};n.event=i,n.type="Connector:"+e,n.target=t,t.trigger(n.type,n),0!=t.options.isEdit&&(t.options.isEdit&&t.connectionPoints.length<1&&t.turningPoints.length>=2&&t.createAllconnectionPoint(),t.handles.length<1&&t.shapeSetHandle())})}),this.options.isEdit&&(this.conPointsGroup=new s.Group,this.add(this.conPointsGroup));var i=this.createSymbol("toSymbol",this.options.symbol.type,this.options.symbol.size,this.options.symbol.color);if(i&&this.add(i),this.options.hoverStyle){var n=this.line;
s.setElementHoverStl(n,this.options.hoverStyle),i&&s.setElementHoverStl(i,this.options.arrowHoverStyle),n.on("mouseover",function(){s.doEnterHover(n),i&&s.doEnterHover(i)}).on("mouseout",function(){s.doLeaveHover(n),i&&s.doLeaveHover(i)})}if(this.options.text.text&&""!=this.options.text.text){var r=this.drawText("lineText",this.options.text.text,0,0);this.add(r.text)}},n.prototype.createAllconnectionPoint=function(){var t=this.startNode.getRect?this.startNode.getRect().boundingRect:r.getRect(this.startNode).boundingRect,e=this.endNode.getRect?this.endNode.getRect().boundingRect:r.getRect(this.endNode).boundingRect,i=r.getConnectorPoints(t),o=r.getConnectorPoints(e);this.connectionPointCreate(this.startNode,i.left,n.START_NODE+n.SEPERATOR+n.LEFT),this.connectionPointCreate(this.startNode,i.right,n.START_NODE+n.SEPERATOR+n.RIGHT),this.connectionPointCreate(this.startNode,i.top,n.START_NODE+n.SEPERATOR+n.TOP),this.connectionPointCreate(this.startNode,i.bottom,n.START_NODE+n.SEPERATOR+n.BOTTOM),this.connectionPointCreate(this.endNode,o.left,n.END_NODE+n.SEPERATOR+n.LEFT),this.connectionPointCreate(this.endNode,o.right,n.END_NODE+n.SEPERATOR+n.RIGHT),this.connectionPointCreate(this.endNode,o.top,n.END_NODE+n.SEPERATOR+n.TOP),this.connectionPointCreate(this.endNode,o.bottom,n.END_NODE+n.SEPERATOR+n.BOTTOM),this.connectionPointCreate(this,this.turningPoints[0].clone(),u.TYPE_CONNECTOR),this.connectionPointCreate(this,this.turningPoints[this.turningPoints.length-1].clone(),u.TYPE_CONNECTOR)},n.prototype.connectionPointCreate=function(t,e,i){var n=new u(this,e,i);this.conPointsGroup.add(n.shape)},n.prototype.clearHandles=function(){for(var t=0;t<this.handles.length;t++)this.remove(this.handles[t].handleShape);this.handles=[],this.conPointsGroup&&this.conPointsGroup.removeAll()},n.prototype.shapeSetHandle=function(){for(var t=1;t<this.turningPoints.length-2;t++){var e,i,n,o=r.collinearity(this.turningPoints[t-1],this.turningPoints[t],this.turningPoints[t+1]),s=r.collinearity(this.turningPoints[t],this.turningPoints[t+1],this.turningPoints[t+2]);(o||s&&!this.turningPoints[t+1].equals(this.turningPoints[t+2]))&&(o&&!this.turningPoints[t-1].equals(this.turningPoints[t])||s)||(this.turningPoints[t].x===this.turningPoints[t+1].x?(i=this.turningPoints[t].x,n=(this.turningPoints[t].y+this.turningPoints[t+1].y)/2,e=new l("h",i,n,this)):this.turningPoints[t].y===this.turningPoints[t+1].y&&(i=(this.turningPoints[t].x+this.turningPoints[t+1].x)/2,n=this.turningPoints[t].y,e=new l("v",i,n,this)),e&&(this.add(e.handleShape),this.handles.push(e)))}},n.prototype.createSymbol=function(t,e,i,n){if("none"!==e){o.isArray(i)||(i=[i,i]);var r=h.createSymbol(e,-i[0]/2,-i[1]/2,i[0],i[1],n);return r.name=t,r}},n.prototype.drawText=function(t,e,i,n,r){var o=new s.Text({style:{text:e,x:i,y:n,fill:r?r:this.options.text.color,textFont:this.options.text.textFont},zlevel:20});return o.name=t,{text:o,rect:o.getBoundingRect()}},n.prototype.middle=function(t){if(this.options.style.lineType==n.TYPE_STRAIGHT){var e=r.getMaxLineLength(this.turningPoints);if(t){var i=s.textContain.getWidth(t.text,t.textFont),o=r.getAngle(e[0],e[1]),a=r.distance(e[0],e[1])/2-i/2,h=r.getEndPoint(e[0],a,o);return[h.x,h.y]}var l=(e[0].x+e[1].x)/2,u=(e[0].y+e[1].y)/2;return[l,u]}if(this.options.style.lineType==n.TYPE_JAGGED){for(var c=0,d=0;d<this.turningPoints.length-1;d++)c+=r.getLength(this.turningPoints[d],this.turningPoints[d+1]);for(var f=-1,p=0,d=0;d<this.turningPoints.length-1;d++){f=d;var g=r.getLength(this.turningPoints[d],this.turningPoints[d+1]);if(!(p+g<c/2))break;p+=g}if(f!=-1){var v=c/2-p;if(r.round(this.turningPoints[f].x,3)==r.round(this.turningPoints[f+1].x,3))return[this.turningPoints[f].x,Math.min(this.turningPoints[f].y,this.turningPoints[f+1].y)+v];if(r.round(this.turningPoints[f].y,3)==r.round(this.turningPoints[f+1].y,3))return[Math.min(this.turningPoints[f].x,this.turningPoints[f+1].x)+v,this.turningPoints[f].y];console.error("Connector:middle() - this should never happen "+this.turningPoints[f]+" "+this.turningPoints[f+1]+" nr of points "+this.turningPoints.length)}}return null},n.prototype.toJSON=function(){return this.model.set("resourceId",this.resourceId),this.model.set("properties.type",14),this.model.set("bounds.upperLeft.x",this.position[0]),this.model.set("bounds.upperLeft.y",this.position[1]),this.model.set("bounds.lowerRight.x",this.position[0]+this.getBoundingRect().width),this.model.set("bounds.lowerRight.y",this.position[1]+this.getBoundingRect().height),this.model.set("style.sPos",this.sPos),this.model.set("style.ePos",this.ePos),this.model.set("dockers",this.turningPoints),this.model.option},n.prototype.refreshModel=function(){this.model.set("options.dockers",this.turningPoints)},r.inherits(n,a),t.exports=n},function(t,e,i){"use strict";var n=i(3),r=i(25),o=n.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+r,n+o),t.lineTo(i-r,n+o),t.closePath()}}),s=n.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+r,n),t.lineTo(i,n+o),t.lineTo(i-r,n),t.closePath()}}),a=n.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,r=e.width/5*3,o=Math.max(r,e.height),s=r/2,a=s*s/(o-s),h=n-o+s+a,l=Math.asin(a/s),u=Math.cos(l)*s,c=Math.sin(l),d=Math.cos(l);t.arc(i,h,s,Math.PI-l,2*Math.PI+l);var f=.6*s,p=.7*s;t.bezierCurveTo(i+u-c*f,h+a+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-u+c*f,h+a+d*f,i-u,h+a),t.closePath()}}),h=n.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,r=e.x,o=e.y,s=n/3*2;t.moveTo(r,o),t.lineTo(r+s,o+i),t.lineTo(r,o+i/4*3),t.lineTo(r-s,o+i),t.lineTo(r,o),t.closePath()}}),l={line:n.Line,rect:n.Rect,roundRect:n.Rect,square:n.Rect,circle:n.Circle,diamond:s,pin:a,arrow:h,triangle:o},u={line:function(t,e,i,n,r){r.x1=t,r.y1=e+n/2,r.x2=t+i,r.y2=e+n/2},rect:function(t,e,i,n,r){r.x=t,r.y=e,r.width=i,r.height=n},roundRect:function(t,e,i,n,r){r.x=t,r.y=e,r.width=i,r.height=n,r.r=Math.min(i,n)/4},square:function(t,e,i,n,r){var o=Math.min(i,n);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.r=Math.min(i,n)/2},diamond:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.width=i,r.height=n},pin:function(t,e,i,n,r){r.x=t+i/2,r.y=e+n/2,r.width=i,r.height=n},arrow:function(t,e,i,n,r){r.x=t+i/2,r.y=e+n/2,r.width=i,r.height=n},triangle:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.width=i,r.height=n}},c={};for(var d in l)c[d]=new l[d];var f=n.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style,e=this.shape;"pin"===e.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e){var i=e.symbolType,n=c[i];"none"!==e.symbolType&&(n||(i="rect",n=c[i]),u[i](e.x,e.y,e.width,e.height,n.shape),n.buildPath(t,n.shape))}}),p=function(t){if("image"!==this.type){var e=this.style,i=this.shape;i&&"line"===i.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty()}},g={createSymbol:function(t,e,i,o,s,a){var h=0===t.indexOf("empty");h&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return l=0===t.indexOf("image://")?new n.Image({style:{image:t.slice(8),x:e,y:i,width:o,height:s}}):0===t.indexOf("path://")?n.makePath(t.slice(7),{},new r(e,i,o,s)):new f({shape:{symbolType:t,x:e,y:i,width:o,height:s}}),l.__isEmptyBrush=h,l.setColor=p,l.setColor(a),l}};t.exports=g},function(t,e,i){function n(t,e,i,o){this.type=t,this.x=e,this.y=i,this.visible=!0,this.connector=o,this.handleShape=new r.Circle({shape:{cx:e,cy:i,r:n.RADIUS},style:{fill:"rgb(0,255,0)",stroke:"rgb(0,0,0)"},z:2,draggable:!0});var s=this;this.handleShape.on("drag",function(t){s.actionConnector(t.offsetX,t.offsetY)})}var r=i(3),o=i(67);n.RADIUS=4,n.prototype={constructor:n,equals:function(t){return!(!t instanceof n)&&(this.type==t.type&&this.x==t.x&&this.y==t.y&&this.visible==t.visible)},actionConnector:function(t,e){switch(this.type){case"v":for(var i,n=1;n<this.connector.turningPoints.length-1;n++)this.connector.turningPoints[n-1].y==this.connector.turningPoints[n].y&&this.connector.turningPoints[n].y==this.y&&Math.min(this.connector.turningPoints[n].x,this.connector.turningPoints[n-1].x)<=this.x&&Math.max(this.connector.turningPoints[n].x,this.connector.turningPoints[n-1].x)>=this.x&&(i=n);var r=e-this.y,s=o.translationMatrix(0,r);this.connector.turningPoints[i-1].transform(s),this.connector.turningPoints[i].transform(s),this.connector.refresh(),this.y=e;break;case"h":for(var i,n=1;n<this.connector.turningPoints.length-1;n++)this.connector.turningPoints[n-1].x==this.connector.turningPoints[n].x&&this.connector.turningPoints[n].x==this.x&&Math.min(this.connector.turningPoints[n].y,this.connector.turningPoints[n-1].y)<=this.y&&Math.max(this.connector.turningPoints[n].y,this.connector.turningPoints[n-1].y)>=this.y&&(i=n);var a=t-this.x,s=o.translationMatrix(a,0);this.connector.turningPoints[i-1].transform(s),this.connector.turningPoints[i].transform(s),this.connector.refresh(),this.x=t}}},t.exports=n},function(t,e,i){function n(t,e,i){this.connector=t,this.point=e.clone(),this.type=i,this.color=n.NORMAL_COLOR,this.oType="ConnectionPoint",this.shape=new r.Circle({shape:{cx:this.point.x,cy:this.point.y,r:n.RADIUS},style:{fill:this.color,stroke:"#000000"},z:2}),this.shape.type=this.type,this.shape.connector=t}var r=i(3);i(67);n.NORMAL_COLOR="#FFFF33",n.OVER_COLOR="#FF9900",n.CONNECTED_COLOR="#ff0000",n.RADIUS=4,n.TYPE_FIGURE="figure",n.TYPE_CONNECTOR="connector",n.prototype={constructor:n,equals:function(t){return this.point.equals(t.point)&&this.connector==t.connector&&this.type==t.type&&this.color==t.color&&this.radius==t.radius}},t.exports=n},function(t,e,i){var n=i(71),r=i(4),o=n.extend({defaultOption:{fromBounds:{x:0,y:0,width:0,height:0},toBounds:{x:0,y:0,width:0,height:0},moddleX:0,moddleY:0,style:{lineWidth:1,stroke:"#FFFFFF"},hoverStyle:{lineWidth:1,stroke:"#FFFFFF"},isVector:!1},init:function(t,e,i){r.merge(t,this.getDefaultOption())},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var t=[],e=this.constructor;e;){var i=e.prototype.defaultOption;i&&t.push(i),e=e.superClass}for(var n={},o=t.length-1;o>=0;o--)n=r.merge(n,t[o],!0);this.__defaultOption=n}return this.__defaultOption}});t.exports=o},function(t,e,i){function n(t,e){l.call(this,t,e),this.rackkInfo={type:-1,name:"ServerR630Node"},this.model=t,this.portNodeList=[],this.cardNodeList=[],this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=i(3),h=i(70),l=i(90);n.prototype.render=function(t,e){this.model=t;var i=(t.get("showTip"),t.get("width")),n=20,o=new a.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:n,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(o);var s=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/sDellR630b.png",width:i,height:n},z:1e3,draggable:!1}),l=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/sDellR630a.png",width:i,height:n},draggable:!1});s.on("mouseover",function(t){s.attr("position",[-1e3,-1e3]),l.attr("position",[0,0])}),l.on("mouseout",function(t){l.attr("position",[-1e3,-1e3]),s.attr("position",[0,0])}),this.add(l),this.add(s);var u=t.get("cards"),c=[];if(void 0!==u)for(var d=0;d<u.length;d++)if("default"===u[d].type){c=void 0!==u[d].ports?u[d].ports:void 0;var f={};f={resourceId:r.getUUID(),bounds:{upperLeft:{x:14,y:n/2.5}},stencil:{type:"PointNode"}},f.height=7,f.width=7;var p={};p.sourceReource=this.model.get("name"),p.sourcePort=y,p.cardNo=0,p.nodetype=this.model.get("nodetype"),void 0!==c&&void 0!==c[0]&&(p.targetReource=void 0!==c[0].target?c[0].target.reourceName:"",p.targetPort=void 0!==c[0].target?c[0].target.port:""),f.lineInfo=p;var g=new h(f);this.addPortByModel(g,e);for(var v=70,y=1;y<5;y++){var f={};f={resourceId:r.getUUID(),bounds:{upperLeft:{x:v,y:n/2.5}},stencil:{type:"PointNode"}},f.height=7,f.width=7;var p={};p.sourceReource=this.model.get("name"),p.sourcePort=y,p.sourceCardNo=0,p.nodetype=this.model.get("nodetype");var x=y;void 0!==c&&void 0!==c[x]&&(p.targetReource=void 0!==c[x].target?c[x].target.reourceName:"",p.targetPort=void 0!==c[x].target?c[x].target.port:""),f.lineInfo=p;var g=new h(f);this.addPortByModel(g,e),v+=11}}var m=t.get("ports");void 0!==m&&void 0!==m.card1&&m.card1.length<3,this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.addPortByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,this._api),this.portNodeList.push(n),this.add(n))},s.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){r.call(this,t,e),this.rackkInfo={type:-1,name:"ServerTopoNode"},this.model=t,this.render(t,e)}var r=(i(67),i(73)),o=i(4);i(3),i(70);n.prototype.render=function(t,e){},o.inherits(n,r),t.exports=n},function(t,e,i){function n(t,e){u.call(this,t,e),this.rackkInfo={type:-1,name:"ServerR730Node"},this.model=t,this.portNodeList=[],this.cardNodeList=[],this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=i(3),h=i(70),l=i(92),u=i(90);n.prototype.render=function(t,e){this.model=t;var i=(t.get("showTip"),this),n=new a.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(n);var o=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/sDellR730b.jpg",width:t.get("width"),height:40},z:1e3,draggable:!1}),s=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/sDellR730a.jpg",width:t.get("width"),height:40},draggable:!1});o.on("mouseover",function(t){if(o.attr("position",[-1e3,-1e3]),s.attr("position",[0,0]),i.cardNodeList.length>0)for(var e=0;e<i.cardNodeList.length;e++)i.cardNodeList[e]._children[0].show()}),s.on("mouseout",function(t){if(s.attr("position",[-1e3,-1e3]),o.attr("position",[0,0]),i.cardNodeList.length>0)for(var e=0;e<i.cardNodeList.length;e++)i.cardNodeList[e]._children[0].hide()}),this.add(s),this.add(o);var u=t.get("cards"),c=[];if(void 0!==u)for(var d=0;d<u.length;d++){if("default"===u[d].type){c=void 0!==u[d].ports?u[d].ports:void 0;for(var f=75,p=1;p<5;p++){var g={};g={resourceId:r.getUUID(),bounds:{upperLeft:{x:f,y:26}},stencil:{type:"PointNode"}},g.height=7,g.width=7;var v={};v.sourceReource=this.model.get("name"),v.sourcePort=p,v.nodetype=this.model.get("nodetype");var y=p-1;void 0!==c&&void 0!==c[y]&&(v.targetReource=void 0!==c[y].target?c[y].target.reourceName:"",v.targetPort=void 0!==c[y].target?c[y].target.port:""),g.lineInfo=v;var x=new h(g);this.addPortByModel(x,e),f+=10}}var m,w,_,b,P,T;1===u[d].No?(m=15,w=3,_=33,b=8,P="leftRight",T="1"):2===u[d].No?(m=15,w=12,_=33,b=8,P="leftRight",T="2"):3===u[d].No?(m=15,w=20,_=33,b=8,P="leftRight",T="3"):4===u[d].No?(m=60,w=3,_=50,b=8,P="leftRight",T="4"):5===u[d].No?(m=60,w=12,_=50,b=8,P="leftRight",T="5"):6===u[d].No&&(m=15,w=3,_=50,b=8,P="leftRight",T="6");var g={};g={resourceId:r.getUUID(),bounds:{upperLeft:{x:m,y:w}},stencil:{type:"CardNode"}},g.No=T,g.height=b,g.width=_,g.type=u[d].type,g.portData=u[d].ports,g.direction=P,g.resourcesName=t.get("name"),g.resourceNodeType=t.get("nodetype");var x=new l(g);this.addNodeByModel(x,e)}this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.addPortByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,this._api),this.portNodeList.push(n),this.add(n))},n.prototype.addNodeByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;if(i){n=new i(t,e);var r=n.pointList;if(void 0!==r&&r.length>0)for(var o=0;o<r.length;o++)"1"===r[o].lineInfo.sourceCardNo?r[o].lineInfo.moddleX=35:"2"===r[o].lineInfo.sourceCardNo?r[o].lineInfo.moddleX=25:"3"===r[o].lineInfo.sourceCardNo||("4"===r[o].lineInfo.sourceCardNo?r[o].lineInfo.moddleX=25:"5"===r[o].lineInfo.sourceCardNo),this.portNodeList.push(r[o]);this.add(n),this.cardNodeList.push(n)}},s.inherits(n,o),t.exports=n},function(t,e,i){var n=(i(71),i(4),i(70)),r=n.extend({No:"",resourcesName:"",resourceNodeType:"1",height:5,width:5,type:"",direction:"leftRight",portData:[]});t.exports=r},function(t,e,i){function n(t,e){l.call(this,t,e),this.rackkInfo={type:-1,name:"ServerX3550Node"},this.model=t,this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=i(3),h=i(70),l=i(90);n.prototype.render=function(t,e){this.model=t;var i=(t.get("showTip"),new a.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0}));this.add(i);var n=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/xIBMX3550b.png",width:t.get("width"),height:40},draggable:!1}),o=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/xIBMX3550a.png",width:t.get("width"),height:40},draggable:!1});n.on("mouseover",function(t){n.attr("position",[-1e3,-1e3]),o.attr("position",[0,0])}),o.on("mouseout",function(t){o.attr("position",[-1e3,-1e3]),n.attr("position",[0,0])}),this.add(o),this.add(n);for(var s=95,l=0;l<4;l++){var u={};u={resourceId:r.getUUID(),bounds:{upperLeft:{x:s,y:15}},stencil:{type:"PointNode"}},u.height=8,u.width=8;var c=new h(u);this.addPortByModel(c,e),s+=13}this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.addPortByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,this._api),this.add(n))},s.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){l.call(this,t,e),this.rackkInfo={type:-1,name:"ServerX3650Node"},this.model=t,this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=i(3),h=i(70),l=i(90);n.prototype.render=function(t,e){this.model=t;var i=(t.get("showTip"),new a.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0}));this.add(i);var n=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/xIBMX3650b_8.png",width:t.get("width"),height:80},draggable:!1}),o=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/xIBMX3650a.png",width:t.get("width"),height:80},draggable:!1});n.on("mouseover",function(t){n.attr("position",[-1e3,-1e3]),o.attr("position",[0,0])}),o.on("mouseout",function(t){o.attr("position",[-1e3,-1e3]),n.attr("position",[0,0])}),this.add(o),this.add(n);for(var s=165,l=0;l<4;l++){var u={};u={resourceId:r.getUUID(),bounds:{upperLeft:{x:s,y:55}},stencil:{type:"PointNode"}},u.height=10,u.width=10;var c=new h(u);this.addPortByModel(c,e),s+=13}this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.addPortByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,this._api),this.add(n))},s.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){l.call(this,t,e),this.rackkInfo={type:-1,name:"ServerRD350Node"},this.model=t,this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=i(3),h=i(70),l=i(90);n.prototype.render=function(t,e){this.model=t;var i=(t.get("showTip"),new a.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0}));this.add(i);var n=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/lenovoRd350b.png",width:t.get("width"),height:40},draggable:!1}),o=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/lenovoRd350a.png",width:t.get("width"),height:40},z:1e3,draggable:!1});n.on("mouseover",function(t){n.attr("position",[-1e3,-1e3]),o.attr("position",[0,0])}),o.on("mouseout",function(t){o.attr("position",[-1e3,-1e3]),n.attr("position",[0,0])}),this.add(o),this.add(n);for(var s=95,l=0;l<4;l++){var u={};u={resourceId:r.getUUID(),bounds:{upperLeft:{x:s,y:15}},stencil:{type:"PointNode"}},u.height=8,u.width=8;var c=new h(u);this.addPortByModel(c,e),s+=13}this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.addPortByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,this._api),this.add(n))},s.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){l.call(this,t,e),this.rackkInfo={type:-1,name:"ServerRD650Node"},this.model=t,this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=i(3),h=i(70),l=i(90);n.prototype.render=function(t,e){this.model=t;var i=(t.get("showTip"),new a.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0}));this.add(i);var n=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/lenovoRd650b.png",width:t.get("width"),height:80},draggable:!1}),o=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/lenovoRd650a.png",width:t.get("width"),height:80},z:1e3,draggable:!1});n.on("mouseover",function(t){n.attr("position",[-1e3,-1e3]),o.attr("position",[0,0])}),o.on("mouseout",function(t){o.attr("position",[-1e3,-1e3]),n.attr("position",[0,0])}),this.add(o),this.add(n);var s={};s={resourceId:r.getUUID(),bounds:{upperLeft:{x:88,y:55}},stencil:{type:"PointNode"}},s.height=10,s.width=10;var l=new h(s);this.addPortByModel(l,e),this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.addPortByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,this._api),this.add(n))},s.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){r.call(this,t,e),this.rackkInfo={type:-1,name:"SwitchTopoNode"},this.model=t,this.render(t,e)}var r=(i(67),i(73)),o=i(4);i(3);n.prototype.render=function(t,e){},o.inherits(n,r),t.exports=n},function(t,e,i){function n(t,e){l.call(this,t,e),this.rackkInfo={type:-1,name:"SwitchHalfIBNode"},this.model=t,this.portNodeList=[],this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=i(3),h=i(70),l=i(97);n.prototype.render=function(t,e){this.model=t;var i=(t.get("showTip"),new a.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0}));this.add(i);var n=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/IBSwitchHalf.png",width:t.get("width"),height:40},draggable:!1});this.add(n);for(var o=12,s=70,l=1;l<5;l++){var u={};u={resourceId:r.getUUID(),bounds:{upperLeft:{x:s,y:o}},stencil:{type:"PointNode"}},u.height=6,u.width=11;var c={};c.sourceReource=t.get("name"),c.sourcePort=l.toString(),u.lineInfo=c;var d=new h(u);this.addPortByModel(d,e),s=s+u.width+3}o=22,s=70;for(var l=5;l<9;l++){var u={};u={resourceId:r.getUUID(),bounds:{upperLeft:{x:s,y:o}},stencil:{type:"PointNode"}},u.height=6,u.width=11;var c={};c.sourceReource=t.get("name"),c.sourcePort=l.toString(),u.lineInfo=c;var d=new h(u);this.addPortByModel(d,e),s=s+u.width+3}this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.addPortByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,this._api),this.add(n),this.portNodeList.push(n))},s.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){l.call(this,t,e),this.rackkInfo={type:-1,name:"SwitchFullIBNode"},this.model=t,this.portNodeList=[],this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=i(3),h=i(70),l=i(97);n.prototype.render=function(t,e){this.model=t;var i=(t.get("showTip"),new a.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0}));this.add(i);var n=new a.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/IBSwitchFull.png",width:t.get("width"),height:40},draggable:!1});this.add(n);for(var o=14,s=18,l=1;l<19;l++){var u={};u={resourceId:r.getUUID(),bounds:{upperLeft:{x:s,y:o}},stencil:{type:"PointNode"}},u.height=6,u.width=11;var c={};c.sourceReource=t.get("name"),c.sourcePort=l.toString(),u.lineInfo=c;var d=new h(u);this.addPortByModel(d,e),s=l%3===0?s+u.width+5:s+u.width+2}o=24,s=18;for(var l=19;l<37;l++){var u={};u={resourceId:r.getUUID(),bounds:{upperLeft:{x:s,y:o}},stencil:{type:"PointNode"}},u.height=6,u.width=11;var c={};c.sourceReource=this.model.get("name"),c.sourcePort=l.toString(),u.lineInfo=c;var d=new h(u);this.addPortByModel(d,e),s=l%3===0?s+u.width+5:s+u.width+2}this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},n.prototype.addPortByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,this._api),this.portNodeList.push(n),this.add(n))},s.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){a.call(this,t,e),this.rackkInfo={type:-1,name:"SwitchGMNode"},this.model=t,this.render(t,e)}var r=(i(67),i(73)),o=i(4),s=i(3),a=(i(70),i(97));n.prototype.render=function(t,e){this.model=t;var i=(t.get("showTip"),new s.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0}));this.add(i);var n=new s.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/GMSwitch.png",width:t.get("width"),height:40},draggable:!1});this.add(n),this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},o.inherits(n,r),t.exports=n},function(t,e,i){function n(t,e){a.call(this,t,e),this.rackkInfo={type:-1,name:"SwitchKMNode"},this.model=t,this.render(t,e)}var r=(i(67),i(73)),o=i(4),s=i(3),a=(i(70),i(97));n.prototype.render=function(t,e){this.model=t;var i=(t.get("showTip"),new s.Text({style:{x:t.get("width")/2-10,y:-20,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"12px Microsoft Yahei",textBaseline:"top"},draggable:!0}));this.add(i);var n=new s.Image({position:[0,0],scale:[1,1],style:{x:0,y:0,image:"../../../src/third-party/fish-topo/fish-topo-network/src/images/KMSwitch.png",width:t.get("width"),height:40},draggable:!1});this.add(n),this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},o.inherits(n,r),t.exports=n},function(t,e,i){function n(t,e){a.call(this,t,e),this.info={type:-1,name:"ClusterDrawNode"},this.model=t,this.databaseList=[],this.dgList=[],this.render(t,e)}var r=i(67),o=i(4),s=i(3),a=i(73),h=i(83),l=(i(70),i(103)),u=i(104),c=i(105),d=i(88);n.prototype.render=function(t,e){for(var i=t.get("nodeList"),n=t.get("showTip"),o={},a={},h={},d=[],f=0;f<i.length;f++){var p=10,g=50;if("database"===i[f].type){var v=i[f].dbData;if(void 0!=v&&v.length>0){o={resourceId:r.getUUID(),bounds:{upperLeft:{x:g,y:p}},stencil:{type:"ClusterDatabaseNode"}},o.dbData=v,o.showTip=n;for(var y=0;y<v.length;y++)d.push(v[y].dg)}}else if("asm"===i[f].type){var g=50;p=250,a={resourceId:r.getUUID(),bounds:{upperLeft:{x:g,y:p}},stencil:{type:"ClusterAsmNode"}},a.name=i[f].name,a.asmData=i[f].asmData,a.status=i[f].status,a.showTip=n}else if("storage"===i[f].type){var g=50;p=550,h={resourceId:r.getUUID(),bounds:{upperLeft:{x:g,y:p}},stencil:{type:"ClusterIseNode"}},h.childNodeList=i[f].iseData,h.showTip=n}}var x=new l(o);this.addNodeByModel(x,e);var m=new s.Rect({shape:{x:50,y:400,width:e.getWidth()-100,height:200},style:{fill:"#FFFFFF",stroke:"#B3B3B3",lineWidth:"1",lineDash:[2]}});this.add(m),a.dg=d;var w=new u(a);this.addNodeByModel(w,e);var _=new c(h);this.addNodeByModel(_,e);for(var b=0;b<this.databaseList.length;b++)this.drawLine(this.databaseList[b],this.dgList[b],e)},n.prototype.addNodeByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;if(i&&(n=new i(t,e),this.add(n),e.getWidth()<n.clientWidth&&e.resize(n.clientWidth,e.getHeight()),void 0!==n.portNodeList&&n.portNodeList.length>0))if("ClusterDatabaseNode"===n.info.name)for(var r=0;r<n.portNodeList.length;r++)this.databaseList.push(n.portNodeList[r]);else if("ClusterAsmNode"===n.info.name)for(var r=0;r<n.portNodeList.length;r++)this.dgList.push(n.portNodeList[r])},n.prototype.drawLine=function(t,e,i){var n=t.parent.position[0]+t.shape.x,r=t.parent.position[1]+t.shape.y,o=t.shape.width,s=t.shape.height,a=e.parent.position[0]+e.shape.x,l=e.parent.position[1]+e.shape.y,u=e.shape.width,c=e.shape.height,f=200,p={fromBounds:{x:n-25,y:r,width:o,height:s},toBounds:{x:a-25,y:l,width:u,height:c},moddleY:f,style:{lineWidth:3,stroke:"#0704EC"},hoverStyle:{lineWidth:3,stroke:"#FF0000"},isEdit:!1,isVector:!0},g=new d(p),v=new h(g);this.add(v);var y=i.getWidth()/2,x=f;x=a+25>y?f+20:f-20;var m={fromBounds:{x:a+25,y:l,width:u,height:c},toBounds:{x:n+25,y:r,width:o,height:s},moddleY:x,style:{lineWidth:3,stroke:"#0704EC"},hoverStyle:{lineWidth:3,stroke:"#FF0000"},isEdit:!1,isVector:!0},w=new d(m),_=new h(w);this.add(_)},n.prototype.bind=function(t,e,i){void 0!=e&&e.length>0&&o.each(e,function(e){t.on(e,function(n){if("mouseover"===e){var r={};r.event=n,r.x=t.position[0]+n.target.shape.width,r.y=t.position[1]+n.target.shape.height/2,r.width=150,r.height=170,r.eWidth=5,r.parmDate=n.target.parmDate,i.showTipWindow(r)}else i.hideTipWindow(n.event.target)},this)},this)},o.inherits(n,a),t.exports=n},function(t,e,i){var n=(i(71),i(4),i(70)),r=n.extend({name:"",height:200,width:190,status:"online",instanse:{},dg:[]});t.exports=r},function(t,e,i){var n=(i(71),i(4),i(70)),r=n.extend({name:"",height:200,width:190,status:"online",asmData:[],dg:[]});t.exports=r},function(t,e,i){var n=(i(71),i(4),i(70)),r=n.extend({name:"",height:200,width:250,status:"online",childNodeList:[]});t.exports=r},function(t,e,i){function n(t,e){o.call(this,t,e),this.info={type:-1,name:"ClusterDatabaseNode"},this.model=t,this.lineInfo=t.get("lineInfo"),this.portNodeList=[],this.render(t,e)}var r=(i(67),i(73)),o=i(102),s=i(4),a=i(3);i(70);n.prototype.render=function(t,e){this.model=t;for(var i=t.get("dbData"),n=0,r=0,o=280,h=80,l=0;l<i.length;l++){var u=new a.Rect({shape:{x:n,y:r,width:o,height:h},style:{fill:"#E2E3D9",stroke:"#B3B3B3",opacity:1,lineWidth:"2"}});u.lineInfo=this.lineInfo,this.add(u);var c=["click","mouseover","mouseout"];s.each(c,function(t){u.on(t,function(i){if("mouseover"===t){var n={};n.event=i,n.x=u.parent.position[0]+i.target.shape.x+i.target.shape.width,n.y=u.parent.position[1]+i.target.shape.y+i.target.shape.height/2,n.width=150,n.height=170,n.eWidth=5,n.parmDate=i.target.parmDate,e.getWidth()-n.x<n.width?n.layout="left":n.layout="right",e.showTipWindow(n)}else e.hideTipWindow(i.event.target)},this)}),this.portNodeList.push(u);var d=i[l].instanse;if(void 0!=d&&d.length>0)for(var f=n+10,p=80,g=0;g<d.length;g++){var v=new a.Rect({shape:{x:f,y:10,width:p,height:30},style:{fill:"#CFCFCF",stroke:"#B3B3B3",opacity:1,lineWidth:"2"}});this.add(v);var y=new a.Circle({shape:{cx:f+15,cy:25,r:5},style:{fill:"#00D407",stroke:"#B3B3B3",lineWidth:"2"}});"offline"===d[g].status&&(y.style.fill="#CFB624"),this.add(y);var x=new a.Text({style:{x:f+25,y:15,text:d[g].name,width:200,height:20,fill:"#8F8B8A",textFont:"14px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(x),f=p+f+10}var m=new a.Circle({shape:{cx:n+o/2,cy:60,r:5},style:{fill:"#00D407",stroke:"#B3B3B3",lineWidth:"2"}});"offline"===t.get("status")&&(m.style.fill="#CFB624"),
this.add(m);var w=new a.Text({style:{x:n+o/2+20,y:50,text:i[l].name,width:200,height:20,fill:"#8F8B8A",textFont:"18px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(w),n=n+o+50}this.clientWidth=n+50,this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},s.inherits(n,r),t.exports=n},function(t,e,i){function n(t,e){return s.call(this,t,e),this.info={type:-1,name:"ClusterAsmNode"},this.model=t,this.lineInfo=t.get("lineInfo"),this.render(t,e)}var r=i(67),o=i(73),s=i(102),a=i(4),h=i(3),l=i(70);n.prototype.render=function(t,e){for(var i=t.get("dg"),n=0,o=0;o<i.length;o++)n=n>i[o].length?n:i[o].length;for(var s=this.getDgNodeHeight(n,30,2),u=180,c=(e.getWidth()-i.length*u)/2,d=0;d<i.length;d++){var f=new h.Rect({shape:{x:c,y:0,width:u,height:s},style:{fill:"#E2E3D9",stroke:"#B3B3B3",opacity:1,lineWidth:"2"}});this.add(f),f.lineInfo=this.lineInfo,this.portNodeList.push(f);for(var p=i[d],g=2,v=0;v<p.length;v++){var y={resourceId:r.getUUID(),bounds:{upperLeft:{x:0,y:0}},stencil:{type:"ClusterAsmCellNode"}};0===v||v%2===0?y.bounds.upperLeft.x=c+5:y.bounds.upperLeft.x=c+u/2+2,0!==v&&v%2===0&&(g=g+30+2),y.bounds.upperLeft.y=g+2,y.height=30,y.width=u/2-6,y.title=p[v].name,y.status=p[v].status;var x=new l(y);this.addNodeByModel(x,e)}c+=u}var m=(e.getWidth()-i.length*u)/2,w=new h.Rect({shape:{x:m,y:s,width:i.length*u,height:100},style:{fill:"#E2E3D9",stroke:"#B3B3B3",opacity:1,lineWidth:"2"}});this.add(w);var _=["click","mouseover","mouseout"];a.each(_,function(t){w.on(t,function(i){if("mouseover"===t){var n={};n.event=i,n.x=w.parent.position[0]+i.target.shape.x+i.target.shape.width,n.y=w.parent.position[1]+i.target.shape.y+i.target.shape.height/2,n.width=150,n.height=170,n.eWidth=5,n.parmDate=i.target.parmDate,e.getWidth()-n.x<n.width?n.layout="left":n.layout="right",e.showTipWindow(n)}else e.hideTipWindow(i.event.target)},this)});for(var b=t.get("asmData"),P=m+(i.length*u-100*b.length)/2,T=100,M=0;M<b.length;M++){var k=new h.Rect({shape:{x:P,y:s+10,width:T,height:30},style:{fill:"#CFCFCF",stroke:"#B3B3B3",opacity:1,lineWidth:"2"}});this.add(k);var C=new h.Circle({shape:{cx:P+20,cy:s+25,r:5},style:{fill:"#00D407",stroke:"#B3B3B3",lineWidth:"2"}});"offline"===t.get("status")&&(C.style.fill="#CFB624"),this.add(C);var L=new h.Text({style:{x:P+30,y:s+15,text:b[M].name,width:200,height:20,fill:"#8F8B8A",textFont:"14px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(L),P=P+T+10}var B=i.length*u/2+150,N=new h.Circle({shape:{cx:B,cy:s+75,r:7},style:{fill:"#00D407",stroke:"#B3B3B3",lineWidth:"2"}});"offline"===t.get("status")&&(N.style.fill="#CFB624"),this.add(N);var I=new h.Text({style:{x:B+20,y:s+65,text:t.get("name"),width:200,height:20,fill:"#8F8B8A",textFont:"18px Microsoft Yahei",textBaseline:"top"},draggable:!0});return this.add(I),this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")],s+100},n.prototype.addNodeByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,this.api),this.add(n))},n.prototype.getDgNodeHeight=function(t,e,i){var n=0;return n=t%2!==0?((parseInt(t)-1)/2+1)*e:parseInt(t)/2*e,void 0!==i&&(n+=(t+1)*i),n},a.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){r.call(this,t,e),this.rackkInfo={type:-1,name:"ClusterAsmCellNode"},this.model=t,this.lineInfo=t.get("lineInfo"),this.render(t,e)}var r=(i(67),i(73)),o=i(4),s=i(3);i(70);n.prototype.render=function(t,e){var i=(t.get("bounds.upperLeft.y"),t.get("bounds.upperLeft.x"),t.get("width")),n=t.get("height"),r=new s.Rect({shape:{x:0,y:0,width:i,height:n},style:{fill:"#CFCFCF",stroke:"#B3B3B3",opacity:1,lineWidth:"2"}});this.add(r);var r=new s.Circle({shape:{cx:10,cy:15,r:n/2-10},style:{fill:"#00D407",stroke:"#B3B3B3",lineWidth:"2"}});"offline"===t.get("status")&&(r.style.fill="#CFB624"),this.add(r);var o=new s.Text({style:{x:20,y:5,text:t.get("title"),width:50,height:30,fill:"#8F8B8A",textFont:"14px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(o),this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},o.inherits(n,r),t.exports=n},function(t,e,i){function n(t,e){o.call(this,t,e),this.rackkInfo={type:-1,name:"ClusterIseNode"},this.model=t,this.lineInfo=t.get("lineInfo"),this.render(t,e)}var r=i(67),o=i(73),s=i(4),a=(i(3),i(70),i(105));n.prototype.render=function(t,e){for(var i=t.get("childNodeList"),n=0,o=0,s=0,h=0;h<i.length;h++){var l={resourceId:r.getUUID(),bounds:{upperLeft:{x:n,y:o}},stencil:{type:"ClusterIseCellNode"}};l.width=100,l.height=150,l.status=i[h].status,l.title=i[h].name,l.childNodeList=i[h].disk;var u=new a(l);this.addNodeByModel(u,e),n=n+100+50,s+=150}var c=(e.getWidth()-s)/2;this.position=[c,t.get("bounds.upperLeft.y")]},n.prototype.addNodeByModel=function(t,e){var i=e.getNodeClass(t.get("stencil.type")),n=null;i&&(n=new i(t,this.api),this.add(n))},n.prototype.getDgNodeWidth=function(t,e,i){var n=0;return n},s.inherits(n,o),t.exports=n},function(t,e,i){function n(t,e){r.call(this,t,e),this.rackkInfo={type:-1,name:"ClusterIseCellNode"},this.model=t,this.lineInfo=t.get("lineInfo"),this.render(t,e)}var r=(i(67),i(73)),o=i(4),s=i(3);i(70);n.prototype.render=function(t,e){var i=new s.Rect({shape:{x:0,y:0,width:80,height:100},style:{fill:"#CFCFCF",stroke:"#B3B3B3",opacity:1,lineWidth:"2"}});this.add(i);var n=new s.Circle({shape:{cx:25,cy:45,r:5},style:{fill:"#00D407",stroke:"#B3B3B3",lineWidth:"2"}});"offline"===t.get("status")&&(n.style.fill="#CFB624"),this.add(n);var r=new s.Text({style:{x:45,y:35,text:t.get("title"),width:50,height:30,fill:"#8F8B8A",textFont:"14px Microsoft Yahei",textBaseline:"top"},draggable:!0});this.add(r),this.position=[t.get("bounds.upperLeft.x"),t.get("bounds.upperLeft.y")]},o.inherits(n,r),t.exports=n}])});
//# sourceMappingURL=fish-topo-network.min.js.map
